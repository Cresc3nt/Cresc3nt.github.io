<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="zh"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://cresc3nt.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://cresc3nt.github.io/" rel="alternate" type="text/html" hreflang="zh"/><updated>2025-10-20T12:36:42+00:00</updated><id>https://cresc3nt.github.io/feed.xml</id><title type="html">Yuxuan(黄钰轩)’s Homepage</title><subtitle>B.Eng. in IoT Engineering, NUAA. </subtitle><entry><title type="html"></title><link href="https://cresc3nt.github.io/blog/2025/2025-10-19-test2/" rel="alternate" type="text/html" title=""/><published>2025-10-20T12:36:42+00:00</published><updated>2025-10-20T12:36:42+00:00</updated><id>https://cresc3nt.github.io/blog/2025/2025-10-19-test2</id><content type="html" xml:base="https://cresc3nt.github.io/blog/2025/2025-10-19-test2/"><![CDATA[<h2 id="direct-to-cell-satellite-network-without-satellite-navigation">Direct-to-Cell Satellite Network without Satellite Navigation</h2> <p><strong>无需卫星导航的直连蜂窝卫星网络<d-cite key="10.1145/3718958.3750522"></d-cite></strong></p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-10-19-sigcomm25/direct-to-cell-480.webp 480w,/assets/img/blogs/2025-10-19-sigcomm25/direct-to-cell-800.webp 800w,/assets/img/blogs/2025-10-19-sigcomm25/direct-to-cell-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-10-19-sigcomm25/direct-to-cell.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> Direct-to-Cell Satellite Network without Satellite Navigation </div> <h3 id="摘要">摘要</h3> <p>直连蜂窝卫星通过 4G、5G 及未来通信技术，为普通手机和物联网设备提供全球网络服务。为了确保网络服务的高度可用性、可信性以及符合漫游策略，这类系统严重依赖来自外部全球导航卫星系统（GNSS）的用户地理位置和时间信息，以辅助无线接入、身份认证与授权。作者的分析与实地测试表明，这种跨技术的过度依赖会将卫星导航系统的缺陷传导至直连蜂窝卫星网络，引发多种问题，例如连接中断、计费错误（多收或少收）、未授权服务以及即使卫星信号可达时仍被拒绝服务。</p> <blockquote class="block-tip"> <p>💡 “直连蜂窝卫星网络”（Direct-to-Cell Satellite Network）是一种让普通手机或物联网（IoT）设备无需专用终端，直接通过低轨（LEO）通信卫星接入蜂窝网络（如 4G、5G） 的技术架构。</p> </blockquote> <p>为此，作者提出 SN2（Self-Navigating direct-to-cell Satellite Network）方案，采用“命运共享”（fate-sharing）原则，利用直连蜂窝卫星自身实现自导航网络。SN2 通过灵活权衡卫星网络可用性与导航精度，以几乎不增加硬件或通信资源开销的方式，提供“足够好”的内置导航能力，从而保障高可用且功能正确的网络服务。</p> <p>作者在商用卫星手机和符合 3GPP NTN 协议栈的平台上对 SN2 进行了评估。结果表明，与现有方案相比，SN2 可将网络可用性提升 4.4–23.5 倍，并将接入延迟降低 1.9–12.3 倍。</p> <h3 id="介绍">介绍</h3> <p>直连蜂窝卫星（Direct-to-cell satellites）使我们的普通手机和物联网设备（IoTs）能够通过 4G、5G 及未来通信技术，在全球任何地点、任何时间接入网络服务。得益于制造和发射大量卫星进入太空的成本不断下降，这些卫星正被快速部署到距地表 340–2000 公里的低地球轨道（LEO）上。这一高度更接近用户终端，从而带来更好的无线信号质量、更快的数据速率，以及更经济的终端硬件。</p> <blockquote class="block-tip"> <p>普通手机之所以能与 LEO 卫星通信，并非因为手机本身具备卫星通信能力，而是因为：<br/> LEO 卫星足够近 <br/> 卫星端做了超强增强（大天线、高功率、波束成形） <br/> 3GPP NTN 标准对协议做了适应性调整 <br/> 应用场景被限制在低速率、高容错的服务（如 SOS、短信）</p> </blockquote> <p>截至目前，一些直连蜂窝卫星系统已投入运行，例如 Starlink、AST、Iridium、面向 iPhone 的 Globalstar，以及面向 Google Pixel 的 Skylo。Starlink 已发射数百颗直连蜂窝卫星，并已演示使用普通 4G 手机实现视频通话和高达 17 Mbps 的下行速率。同时，3GPP 针对直连蜂窝卫星的非地面网络（NTN）全球标准化工作也在快速推进中。</p> <blockquote class="block-tip"> <p>🛰️ Starlink 的直连蜂窝卫星运行在约 500–600 公里高度 <br/> 🛰️ Iridium 星座轨道高度约为 780 公里 <br/> 🛰️ Globalstar 的轨道高度约为 1400 公里； <br/> 🛰️ AST SpaceMobile 计划在约 700–900 公里轨道部署</p> </blockquote> <p>直连蜂窝卫星网络的一个显著特征是：由于 LEO 卫星在地球上空高速移动（约 7 km/s），用户会经历大范围、长时间的空间-时间动态变化。这对用户激活网络服务提出了多方面的全新挑战：严重的无线传播延迟和多普勒频移降低了卫星链路的可用性；卫星对用户的可见时间短暂，迫使用户频繁重新认证；此外，不同国家和运营商的漫游策略（如接入控制、服务质量 QoS 和计费规则）差异巨大，使得授权过程变得复杂。</p> <p>目前应对这些挑战的通用方案是：在无线接入、认证和授权等环节中，引入用户实时的地理位置和时间信息作为辅助。为获取这些信息，现有运行中的卫星系统和 3GPP 标准均强制要求用户终端在尝试接入卫星时依赖外部导航服务——主要是全球导航卫星系统（GNSS），如 GPS 或北斗。对于尚未联网的终端而言，GNSS 通常是唯一可行的定位与授时手段。</p> <blockquote class="block-tip"> <p>💡 3GPP（3rd Generation Partnership Project，第三代合作伙伴计划）是一个由全球多个电信标准组织共同组成的国际合作项目，负责制定和维护移动通信技术的全球标准，包括2G、3G、4G、5G以及未来的 6G 技术。3GPP 将卫星纳入移动通信网络架构，提出了 非地面网络（Non-Terrestrial Networks, NTN）的概念，并将其作为 5G 及未来 6G 的重要组成部分。</p> </blockquote> <p>然而，这种跨技术对外部导航卫星的依赖，却成为直连蜂窝卫星网络的“阿喀琉斯之踵”。众所周知，GNSS 信号微弱（源自 20,000–35,000 公里高的中地球轨道），且星座规模小（仅数十颗卫星），极易受到无线电干扰或恶意操控（如欺骗攻击）而导致服务中断或定位错误。</p> <blockquote class="block-tip"> <p>💡 3GPP（第三代合作伙伴计划）通过其 Release 17（2022年）首次正式引入非地面网络（NTN）支持，允许普通手机通过低轨（LEO）或地球静止轨道（GEO）卫星直接接入 4G/5G 网络，并在后续的 Release 18 和 19 中进一步增强了 NTN 功能，包括卫星广播系统信息（如 SIB19/SIB31，内含卫星星历）、上行定时提前（TA）与多普勒频移预补偿、基于 GNSS 的定位辅助接入，以及漫游策略与授权机制。直连蜂窝卫星系统（如 Starlink、AST、Globalstar 等）之所以能利用普通智能手机实现通信，正是基于对 3GPP NTN 标准的遵循——它们复用 LTE 或 5G NR 的物理层、MAC 层、RRC 和 NAS 协议栈，使终端无需专用硬件，仅通过软件升级即可支持卫星通信。然而，3GPP 也在标准（如 TS 38.300）中明确规定：终端在接入卫星前必须具备有效的 GNSS 位置和星历信息，否则禁止发送上行信号，这一强制要求正是论文所指出的“对 GNSS 过度依赖”的技术根源。正因如此，包括苹果 iPhone 的卫星 SOS（基于 Globalstar）、Google Pixel 的卫星求救（基于 Skylo）以及 T-Mobile 与 Starlink 的合作等产业落地项目，都高度依赖 3GPP NTN 标准来实现全球互操作性与兼容性。</p> </blockquote> <p>作者在第 3 节中的分析与实地测试表明，这些 GNSS 缺陷会传导至直连蜂窝卫星网络，威胁其可用性与功能正确性，导致计费错误（多收或少收）、未授权服务，甚至在卫星信号可达的情况下仍被拒绝服务。而这种跨技术依赖超出了直连蜂窝卫星系统的控制范围。虽然可通过使用带宽更大、具备加密保护的军用 GNSS 来缓解，但这类高阶 GNSS 对普通手机和物联网设备而言既不可用也不经济。</p> <p>本文探讨在不依赖外部卫星导航的前提下实现直连蜂窝卫星网络的可行性。作者认为，摆脱对外部服务的不可控依赖，是提升直连蜂窝卫星网络鲁棒性的理想特性。然而，核心挑战在于：当外部导航提供的位置和时间信息不可靠或缺失时，如何仍能保证网络功能的正确性。</p> <p>为此，作者提出一种自导航的直连蜂窝 LEO 卫星网络新范式。该范式遵循“命运共享”（fate-sharing）的网络设计原则，旨在只要通信链路可用，网络服务就应始终在线，而不受外部导航服务可靠性的影响。其实现基于两个关键思想：</p> <ul> <li>将直连蜂窝卫星本身用作导航源：与 GNSS 类似，直连蜂窝卫星可通过其广播信号和可预测的星历实现导航功能。只要卫星在服务中，用户即可利用其进行高可用的内置定位与授时。相比中地球轨道上的小规模 GNSS 星座，LEO 超大规模星座距离用户更近、信号更强、可见卫星更多，因此可作为 GNSS 的可靠补充。</li> <li>面向网络的导航（Network-oriented navigation）：不同于专用导航卫星，直连蜂窝卫星因其通信本质，无法始终保证高精度定位或授时。幸运的是，作者发现高精度导航并非总是必需。直连蜂窝卫星网络的可用性与导航精度之间存在灵活、动态的权衡空间，允许在定位精度较低的情况下仍提供功能正确的网络服务。</li> </ul> <p>作者的解决方案 SN2（Self-Navigating direct-to-cell Satellite Network）融合上述理念，构建高可用、强韧的卫星网络。SN2 并不追求高精度导航，而是结合 GNSS 与内置的直连蜂窝导航，以“足够好”的位置和时间信息，尽快激活网络服务，且几乎不增加硬件或通信资源开销。为此，SN2 重新审视了卫星蜂窝网络在无线接入、认证和授权环节对导航的实际需求，并在不损害功能正确性的前提下安全地放宽这些需求。</p> <p>通过复用现有的蜂窝信号和控制消息，SN2 可在现有手机/IoT 设备、卫星及 3GPP NTN 架构上增量部署。需要强调的是，SN2 并非要取代 GNSS，而是一种混合方案，可在 GNSS 失效或不准时作为后备选项，确保卫星服务不中断。</p> <p>作者在商用卫星手机和 Amarisoft NTN 协议栈上对 SN2 进行了原型实现与评估。结果表明，相比标准 3GPP NTN 方案以及正在运行的 Iridium/Globalstar 直连蜂窝 LEO 卫星系统，SN2 可将网络可用性提升 4.4–23.5 倍，并将接入延迟降低 1.9–12.3 倍。</p> <p>伦理声明：本研究不涉及伦理问题。所有实验均使用自有设备进行，未对运行中的卫星、网络或用户造成任何影响。</p> <h3 id="简要概括">简要概括</h3> <p>SN2（Self-Navigating direct-to-cell Satellite Network）通过摆脱对 GNSS（全球导航卫星系统）的强依赖，在 GNSS 不可用、不准或被干扰/欺骗时仍能维持网络服务，从而显著提高网络可用性并降低接入延迟。其核心机制体现在以下三个方面，分别对应直连蜂窝卫星网络的三个关键环节：无线接入（Radio Access）、认证（Authentication）和授权（Authorization）。</p> <p><strong>无线接入</strong>：放宽定位精度要求，实现“足够好”的自导航</p> <ul> <li>问题：传统方案要求终端必须有高精度 GNSS 位置，才能计算上行定时提前（TA）和多普勒频移补偿，否则无法接入卫星。</li> <li>SN2 的改进： <ul> <li>发现无需精确地理坐标，只需相对距离和相对速度（用于 TA 和 Doppler 补偿）即可完成接入。</li> <li>定义了“可容忍定位误差区域”（如环形区域），只要终端位置落在该区域内，即使绝对位置不准，也能成功同步。</li> <li>采用“边定位边尝试接入”的试错策略：一旦某次定位结果足以支持接入，立即停止进一步定位，避免等待高精度 GNSS 定位（TTFF 可达数十秒）。</li> <li>在 GNSS 失效时，仅用一颗可见直连蜂窝卫星（通过其广播的 PSS/SSS 和星历）进行单星多普勒/时延三角定位，作为底线保障。</li> </ul> </li> </ul> <p>✅ 效果：即使无 GNSS，也能在数秒内完成首次接入，接入延迟降低 1.9–12.3 倍。</p> <blockquote class="block-tip"> <p>TA（Timing Advance）是蜂窝系统中用于上行同步的时间提前量。在直连蜂窝卫星中，由于距离远、延迟大，TA 的准确计算至关重要。传统方案依赖 GNSS 提供位置来预补偿 TA，而 SN2 通过放宽精度要求和利用卫星自导航，实现了无需 GNSS 的可靠 TA 估计，从而提升网络可用性并降低接入延迟。<br/> 多普勒频移补偿 是直连蜂窝卫星通信中确保上行/下行信号正确解调的关键步骤。由于 LEO 卫星高速运动，频移极大，必须提前预补偿。传统方法强依赖 GNSS，而 SN2 通过放宽精度要求 + 自导航机制，实现了无需 GNSS 也能有效补偿多普勒频移，从而提升网络可用性并降低接入延迟。</p> </blockquote> <p><strong>认证</strong>：基于“单调时间”的自定时机制，抵御重放攻击</p> <ul> <li>问题：现有方案依赖 GNSS 提供精确时间来验证卫星广播消息（如 SIB）的数字签名新鲜度；若 GNSS 时间被篡改，可能接受重放的伪造卫星信号。</li> <li>SN2 的改进： <ul> <li>利用“合法卫星不会广播未来时间戳”这一事实，提出单调自定时（Monotonic Self-Timing）： <ul> <li>终端扫描所有可见卫星的 SIB 签名时间戳；</li> <li>将本地时间设为最新合法时间戳；</li> <li>任何早于该时间的重放消息均被拒绝。</li> </ul> </li> <li>即使 GNSS 时间被欺骗，只要存在至少一颗合法卫星，终端就能恢复正确时间并识别伪造卫星。</li> </ul> </li> </ul> <p>✅ 效果：在 GNSS 被干扰或欺骗时仍能完成安全认证，避免服务拒绝，提升可用性。</p> <p><strong>授权</strong>：按需、非阻塞的漫游策略授权</p> <ul> <li>问题：传统方案采用“全有或全无”策略——必须提供高精度位置才能授权服务，否则直接拒绝，导致在 GNSS 不可用时完全无法使用。</li> <li>SN2 的改进： <ul> <li>观察到：90% 以上的卫星波束覆盖区域具有同质漫游策略（如同一国家内），无需精确位置即可授权</li> <li>提出动态授权模型： <ul> <li>若波束覆盖单一策略区域 → 立即授权，无需位置；</li> <li>若波束跨越多策略区域（如国界）→ 利用网络侧测距（基于上行 TA）校准用户位置，缩小定位范围；</li> <li>仅在极少数模糊情况下（&lt;3%）才要求终端进一步提高定位精度。</li> </ul> </li> <li>支持按服务分级授权：短信/语音只需波束级定位，紧急 SOS 才需高精度。</li> </ul> </li> </ul> <p>✅ 效果：绝大多数场景下无需等待 GNSS 定位即可获得服务，大幅减少授权延迟，尤其在 GNSS 失效时仍能提供基础服务。</p> <p><strong>综合效果</strong></p> <table class="table table-sm table-bordered"> <thead> <tr> <th class="text-center">场景</th> <th class="text-center">传统方案（依赖 GNSS）</th> <th class="text-center">SN2</th> </tr> </thead> <tbody> <tr> <td class="text-start">GNSS 正常</td> <td class="text-start">可用，但需等待高精度定位</td> <td class="text-start">更快接入（利用更多卫星+放宽精度）</td> </tr> <tr> <td class="text-start">GNSS 被干扰/欺骗</td> <td class="text-start">完全不可用</td> <td class="text-start">仍可接入（自导航+自定时）</td> </tr> <tr> <td class="text-start">卫星切换频繁（LEO 特性）</td> <td class="text-start">需反复获取 GNSS</td> <td class="text-start">复用首次定位结果，快速重连</td> </tr> </tbody> </table> <h3 id="总结">总结</h3> <p>SN2 的核心思想是：将直连蜂窝卫星本身作为导航源，通过“命运共享”（fate-sharing）原则，让通信链路的可用性不再受制于外部 GNSS。它不追求高精度导航，而是根据网络功能的实际需求，提供“刚好够用”（good enough）的位置和时间信息，从而在几乎不增加硬件或通信开销的前提下，实现高可用、低延迟、抗攻击的直连蜂窝卫星网络。</p> <hr/> <h2 id="small-scale-leo-satellite-networking-for-global-scale-demands">Small-scale LEO Satellite Networking for Global-scale Demands</h2> <p><strong>面向全球需求的小规模低轨卫星组网<d-cite key="10.1145/3718958.3750525"></d-cite></strong></p> <h3 id="摘要-1">摘要</h3> <p>我们真的需要数以万计的低地球轨道（LEO）卫星才能满足巨大的全球互联网需求吗？尽管大规模 LEO 星座网络已被证明可行且具有价值，但其高昂的资本支出、市场垄断风险以及对太空资源不可持续的占用引发了广泛关注。作者的分析表明，由于卫星供给与实际物理需求在空间上分布不均，现有星座中的大多数卫星实际上处于低效利用甚至浪费状态。为此，作者提出了 TinyLEO —— 一种通过动态时空供需匹配来缩减 LEO 网络规模的软件定义解决方案。TinyLEO 通过组合多样但稀疏的轨道，按需稀疏化卫星部署；利用轨道模型预测控制（MPC）隐藏稀疏 LEO 网络的复杂性；并将处理这些复杂性的责任转移至其地理分段任播（geographic segment anycast）机制，从而实现更高的网络可用性、更低的资源浪费、更快的故障切换、更简化的卫星设计以及更灵活的网络编排。作者已将 TinyLEO 原型化为一个面向社区的开源工具包。评估结果表明，TinyLEO 可将现有 LEO 星座规模压缩 2.0–7.9 倍，控制平面开销降低 1–3 个数量级，同时仍能满足相同的需求并保持可比的数据平面性能。</p> <h3 id="介绍-1">介绍</h3> <p>低地球轨道（LEO）卫星巨型星座正在掀起一场“从太空提供互联网”的革命。凭借数量庞大的卫星和超高容量的链路，它们承诺为地球上大量尚未联网的用户提供高速互联网接入。截至今日，领先的 LEO 巨型星座 SpaceX 的 Starlink 已部署约 7,000 颗卫星和 13,000 条星间链路，总容量达 350 Tbps，为来自 118 个国家的超过 460 万活跃用户提供服务，用户下载速度可达约 100 Mbps。其他 LEO 巨型星座网络，如 OneWeb、GW 和 Kuiper，也正在规划或部署中，以追赶 Starlink 的步伐。</p> <p>尽管取得了巨大成功，LEO 卫星巨型星座也引发了诸多担忧。即使火箭可重复使用和卫星小型化等技术不断进步，其制造、发射和运营成本对大多数互联网服务提供商和国家而言仍然高得难以承受。这种高门槛导致全球 LEO 网络市场被极少数科技巨头垄断，已引起监管机构和发展中国家的关注。更重要的是，巨型星座中数量庞大的卫星严重加剧了近地轨道的拥堵，威胁到全人类对太空资源的可持续与安全使用。</p> <p>为应对这些挑战，作者探索 LEO 巨型星座的替代方案。作者的目标是缩小 LEO 网络规模，使用更少的卫星，同时在大规模乃至全球用户场景下，仍能保持与巨型星座相当的可用性、性能和弹性。这将有助于更多小型互联网服务提供商和国家拥有负担得起的卫星网络，推动该全球市场的民主化，并缓解轨道拥堵，提升太空可持续性与安全性。</p> <p>作者的工作始于一个简单的洞察：LEO 巨型星座中的大多数卫星其实并未被充分利用。为了便于组网和管理，当前大多数巨型星座在空间上几乎均匀地分布其卫星，从而形成全球同质化的网络供给。然而如图 1a 所示，全球网络需求在物理上是高度不均衡的——超过 70% 的用户集中在地球陆地面积的 5% 以内，而覆盖地球表面 70.8% 的海洋区域却几乎没有用户。这种供需错配导致大量部署在低需求区域的卫星处于闲置状态，而仅靠高层负载均衡技术（如本地波束调整或全局流量调度）无法完全消除这种浪费。</p> <p>因此，作者希望通过削减这些未被充分利用的卫星来缩小 LEO 网络规模。显然，最根本的方法是重新安排卫星布局，用更少的卫星匹配不均衡的需求，这需要构建非均匀的 LEO 网络。乍看之下，这项任务似乎简单，因为当前地球静止轨道（GEO）卫星已经实现了类似目标。然而，对于动态的 LEO 卫星网络而言，这带来了两个根本性挑战：</p> <ul> <li>移动性导致供需匹配不稳定：与 GEO 卫星不同，LEO 卫星相对于旋转的地球不可避免地高速、异步移动，导致其对地面的覆盖区域快速变化。这种极端的移动性使得 LEO 星座难以持续匹配不均衡的需求。</li> <li>复杂网络难以使用：非均匀 LEO 网络需在纬度、经度和时间维度上不均匀地部署卫星，以匹配失衡的需求，这会引发异构卫星之间复杂的相对运动，加剧星间链路切换、拓扑更新和路由路径变化，进而威胁 LEO 网络的可用性、效率、弹性和易用性。</li> </ul> <p>作者通过 TinyLEO 应对上述两大挑战。TinyLEO 是一种软件定义的小规模 LEO 组网方案，通过时空维度的供需动态匹配，以较少的卫星满足全球规模的互联网需求。TinyLEO 利用轨道多样性，在极端卫星移动性下仍能实现稳定的按需网络供给。它将高层网络意图（稳定的需求）与底层执行（动态的供给）解耦，从而提升网络可用性。具体而言：</p> <ul> <li>按需 LEO 网络稀疏化：TinyLEO 组合多样但稀疏的轨道，通过时空互补削减卫星冗余（类似于视频压缩）。该过程可借助压缩感知等先进稀疏信号重构技术，高效地从少量重复覆盖地面轨迹（“纹理”）中重建网络供给。</li> <li>控制平面：稳定意图 + 轨道模型预测控制：为保持高网络可用性，TinyLEO 隐藏稀疏 LEO 网络复杂的物理动态，将其控制平面分解为基于地理区域的流量工程意图（用于稳定基础上的拓扑与路由优化）和轨道模型预测控制（MPC）中间层（用于运行时编译为动态网络供给），从而实现简单灵活的编排和在极端 LEO 动态下的低信令开销。</li> <li>数据平面：地理分段任播：TinyLEO 将处理大多数 LEO 动态的责任下放到每颗卫星的本地数据平面——因其更贴近动态源，可实现更及时高效的适配。它通过地理分段任播机制，支持策略合规、灵活的本地（重）路由、负载均衡以及对故障（如太阳风暴或星间链路中断）的快速恢复。</li> </ul> <blockquote class="block-tip"> <p>控制平面主要负责网络的“决策”功能。它不直接处理用户的数据流量，而是专注于确定数据应该如何在网络中传输。具体来说，控制平面负责计算路由路径、发现网络拓扑结构、维护邻居关系、执行策略配置（如服务质量、安全策略或流量工程），并根据网络状态动态调整转发规则。这些任务通常由路由协议（如OSPF、BGP）、集中式控制器（如SDN控制器）或卫星网络中的轨道预测模型来完成。控制平面的更新频率相对较低，可能以秒甚至分钟为单位，但它为整个网络提供了逻辑上的“地图”和“交通规则”。<br/> 相比之下，数据平面则承担“执行”角色。它根据控制平面生成的规则，高速、高效地转发用户的数据包。数据平面直接面对终端用户的流量，其核心任务是查表（如转发表或路由表）、封装/解封装数据、执行负载均衡或故障切换等操作。由于需要处理海量数据包，数据平面的设计强调低延迟、高吞吐和硬件加速，通常运行在交换机、路由器或卫星终端的转发引擎中。它的操作是实时的，响应时间往往在微秒级别。</p> </blockquote> <p>作者已将 TinyLEO 原型化为一个面向社区的开源工具包，供开放研究使用。基于该工具包的评估表明，TinyLEO 可将现有 LEO 巨型星座的规模压缩 2.0–7.9 倍（从而缓解太空拥堵/污染并节省卫星资本支出），控制平面开销降低 1–3 个数量级，同时仍能满足宽带网络需求，并保持可比的数据平面性能。</p> <p>工具包与演示视频已公开发布。</p> <p>伦理声明：本文不涉及伦理问题。</p> <h3 id="简要概括-1">简要概括</h3> <p>TinyLEO 是一种面向全球互联网需求的小规模低轨（LEO）卫星组网方案，其核心目标是在满足大规模甚至全球用户需求的前提下，显著减少所需卫星数量，从而降低部署成本、缓解轨道拥堵，并提升网络的可持续性。它通过三个关键技术实现这一目标：按需稀疏化网络布局、控制平面的稳定意图与轨道模型预测控制，以及数据平面的地理分段任播机制。</p> <p><strong>TinyLEO 如何实现低轨卫星网络的稀疏化？</strong></p> <p>传统巨型星座（如 Starlink）采用均匀分布的卫星布局，导致大量卫星在海洋、极地等低需求区域闲置，造成资源浪费。TinyLEO 的稀疏化策略基于一个关键洞察：全球网络需求在空间和时间上高度不均衡（例如 70% 用户集中在 5% 的陆地），因此无需均匀部署卫星。</p> <p>具体做法如下：</p> <ul> <li>利用多样但稀疏的轨道组合：TinyLEO 不使用密集同构轨道，而是从大量候选的“地球重复轨道”（Earth-repeat orbits）中，选择具有不同倾角（$\beta$）、升交点赤经（$\alpha$）和轨道周期（$T$）的稀疏轨道。这些轨道分别控制卫星覆盖的纬度、经度和时间重复性，通过组合它们，可在时空维度上互补覆盖，精准匹配不均衡需求。</li> <li>将稀疏化建模为压缩感知问题：TinyLEO 将网络供给（卫星部署）与需求（用户分布）的匹配问题，类比为“视频压缩”：用少量“纹理”（即地球重复地面轨迹）重构出满足需求的覆盖。它构建一个超完备的轨道库（称为“纹理库”），然后通过压缩感知（Compressed Sensing）技术，求解一个稀疏优化问题（最小化卫星总数），使得在任意时刻、任意地理区域，卫星供给 ≥ 需求。</li> <li>离线规划 + 增量部署：该稀疏化过程在离线阶段完成，输出一个非均匀但高效的卫星布局。同时支持增量扩展：当新需求出现时，只需在残差需求上继续运行稀疏匹配算法，无需重构整个网络。</li> </ul> <p>评估表明，TinyLEO 可将现有巨型星座规模压缩 2.0–7.9 倍，同时仍满足相同带宽需求。</p> <p><strong>控制平面：稳定意图 + 轨道模型预测控制（MPC）</strong></p> <p>稀疏化后的网络因轨道异构性而动态性更强（卫星相对运动复杂、链路频繁切换），传统控制方式难以应对。TinyLEO 通过解耦“高层意图”与“底层执行”来简化控制：</p> <ul> <li>地理流量工程意图（Geographic Traffic Engineering Intent）：网络操作员不再关心具体哪颗卫星，而是以地理单元（如经纬度网格）为单位定义拓扑和路由策略。例如：“北京到东京之间需 2 条星间链路”、“避开某战区”等。这种意图是稳定且与卫星无关的，屏蔽了底层动态。</li> <li>轨道模型预测控制器（Orbital MPC）：MPC 作为中间层，负责将地理意图“编译”为实时的卫星拓扑配置。它基于轨道力学预测未来一段时间内哪些卫星覆盖哪些区域，并通过三阶段稳定匹配算法（包括卫星-区域匹配、跨区域星间链路匹配、区域内环连接）生成高寿命、低切换频率的物理拓扑。</li> <li>故障快速修复：当发生链路中断或卫星失效时，MPC 接收数据平面上报，仅对受影响的地理区域进行局部重匹配，平均修复时间约 83.8 毫秒。</li> </ul> <p>该设计将控制信令开销降低 1–3 个数量级，远优于传统时空调度型 SDN（如 Aalyria 的 TS-SDN）。</p> <p><strong>数据平面：地理分段任播（Geographic Segment Anycast）</strong></p> <p>为应对 LEO 网络极端动态性，TinyLEO 将大部分实时决策下放到数据平面：</p> <ul> <li>基于地理的分段路由（Segment Routing）：每个数据包携带一个地理路径列表（如：[上海 → 东京 → 洛杉矶]），而非传统 IP 路由表。任何覆盖“上海”的卫星都可接收该包，并根据下一跳“东京”进行转发。</li> <li>任播转发机制：在每个地理单元内，所有卫星组成一个逻辑环。若当前卫星无法直连下一跳区域，它会沿环将包传递给其他“网关卫星”，直到找到能连接下一跳的卫星。这实现了无状态、本地化、高容错的转发。</li> <li>优势： <ul> <li>快速故障恢复：本地绕行，无需等待控制平面（毫秒级 vs 秒级）；</li> <li>高资源利用率：任播允许多颗卫星分担负载；</li> <li>低控制开销：无需维护全网路由状态；</li> <li>策略兼容：支持最短路径、跨洋卸载、多路径等高级路由策略。</li> </ul> </li> </ul> <h3 id="总结-1">总结</h3> <p>TinyLEO 通过 “稀疏供给匹配不均衡需求” 的核心思想，结合 控制平面的意图抽象与轨道 MPC、数据平面的地理任播转发，成功在大幅缩减卫星数量的同时，保持了与巨型星座相当的性能、可用性和灵活性。它不仅是一种技术方案，更是一种面向可持续、普惠太空互联网的新范式。</p>]]></content><author><name></name></author></entry><entry><title type="html">SIGCOMM’ 25 低轨卫星网络论文簇</title><link href="https://cresc3nt.github.io/blog/2025/sigcomm25/" rel="alternate" type="text/html" title="SIGCOMM’ 25 低轨卫星网络论文簇"/><published>2025-10-19T10:00:00+00:00</published><updated>2025-10-19T10:00:00+00:00</updated><id>https://cresc3nt.github.io/blog/2025/sigcomm25</id><content type="html" xml:base="https://cresc3nt.github.io/blog/2025/sigcomm25/"><![CDATA[<h2 id="direct-to-cell-satellite-network-without-satellite-navigation">Direct-to-Cell Satellite Network without Satellite Navigation</h2> <p><strong>无需卫星导航的直连蜂窝卫星网络<d-cite key="10.1145/3718958.3750522"></d-cite></strong></p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-10-19-sigcomm25/direct-to-cell-480.webp 480w,/assets/img/blogs/2025-10-19-sigcomm25/direct-to-cell-800.webp 800w,/assets/img/blogs/2025-10-19-sigcomm25/direct-to-cell-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-10-19-sigcomm25/direct-to-cell.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> Direct-to-Cell Satellite Network without Satellite Navigation </div> <h3 id="摘要">摘要</h3> <p>直连蜂窝卫星通过 4G、5G 及未来通信技术，为普通手机和物联网设备提供全球网络服务。为了确保网络服务的高度可用性、可信性以及符合漫游策略，这类系统严重依赖来自外部全球导航卫星系统（GNSS）的用户地理位置和时间信息，以辅助无线接入、身份认证与授权。作者的分析与实地测试表明，这种跨技术的过度依赖会将卫星导航系统的缺陷传导至直连蜂窝卫星网络，引发多种问题，例如连接中断、计费错误（多收或少收）、未授权服务以及即使卫星信号可达时仍被拒绝服务。</p> <blockquote class="block-tip"> <p>💡 “直连蜂窝卫星网络”（Direct-to-Cell Satellite Network）是一种让普通手机或物联网（IoT）设备无需专用终端，直接通过低轨（LEO）通信卫星接入蜂窝网络（如 4G、5G） 的技术架构。</p> </blockquote> <p>为此，作者提出 SN2（Self-Navigating direct-to-cell Satellite Network）方案，采用“命运共享”（fate-sharing）原则，利用直连蜂窝卫星自身实现自导航网络。SN2 通过灵活权衡卫星网络可用性与导航精度，以几乎不增加硬件或通信资源开销的方式，提供“足够好”的内置导航能力，从而保障高可用且功能正确的网络服务。</p> <p>作者在商用卫星手机和符合 3GPP NTN 协议栈的平台上对 SN2 进行了评估。结果表明，与现有方案相比，SN2 可将网络可用性提升 4.4–23.5 倍，并将接入延迟降低 1.9–12.3 倍。</p> <h3 id="介绍">介绍</h3> <p>直连蜂窝卫星（Direct-to-cell satellites）使我们的普通手机和物联网设备（IoTs）能够通过 4G、5G 及未来通信技术，在全球任何地点、任何时间接入网络服务。得益于制造和发射大量卫星进入太空的成本不断下降，这些卫星正被快速部署到距地表 340–2000 公里的低地球轨道（LEO）上。这一高度更接近用户终端，从而带来更好的无线信号质量、更快的数据速率，以及更经济的终端硬件。</p> <blockquote class="block-tip"> <p>普通手机之所以能与 LEO 卫星通信，并非因为手机本身具备卫星通信能力，而是因为：<br/> LEO 卫星足够近 <br/> 卫星端做了超强增强（大天线、高功率、波束成形） <br/> 3GPP NTN 标准对协议做了适应性调整 <br/> 应用场景被限制在低速率、高容错的服务（如 SOS、短信）</p> </blockquote> <p>截至目前，一些直连蜂窝卫星系统已投入运行，例如 Starlink、AST、Iridium、面向 iPhone 的 Globalstar，以及面向 Google Pixel 的 Skylo。Starlink 已发射数百颗直连蜂窝卫星，并已演示使用普通 4G 手机实现视频通话和高达 17 Mbps 的下行速率。同时，3GPP 针对直连蜂窝卫星的非地面网络（NTN）全球标准化工作也在快速推进中。</p> <blockquote class="block-tip"> <p>🛰️ Starlink 的直连蜂窝卫星运行在约 500–600 公里高度 <br/> 🛰️ Iridium 星座轨道高度约为 780 公里 <br/> 🛰️ Globalstar 的轨道高度约为 1400 公里； <br/> 🛰️ AST SpaceMobile 计划在约 700–900 公里轨道部署</p> </blockquote> <p>直连蜂窝卫星网络的一个显著特征是：由于 LEO 卫星在地球上空高速移动（约 7 km/s），用户会经历大范围、长时间的空间-时间动态变化。这对用户激活网络服务提出了多方面的全新挑战：严重的无线传播延迟和多普勒频移降低了卫星链路的可用性；卫星对用户的可见时间短暂，迫使用户频繁重新认证；此外，不同国家和运营商的漫游策略（如接入控制、服务质量 QoS 和计费规则）差异巨大，使得授权过程变得复杂。</p> <p>目前应对这些挑战的通用方案是：在无线接入、认证和授权等环节中，引入用户实时的地理位置和时间信息作为辅助。为获取这些信息，现有运行中的卫星系统和 3GPP 标准均强制要求用户终端在尝试接入卫星时依赖外部导航服务——主要是全球导航卫星系统（GNSS），如 GPS 或北斗。对于尚未联网的终端而言，GNSS 通常是唯一可行的定位与授时手段。</p> <blockquote class="block-tip"> <p>💡 3GPP（3rd Generation Partnership Project，第三代合作伙伴计划）是一个由全球多个电信标准组织共同组成的国际合作项目，负责制定和维护移动通信技术的全球标准，包括2G、3G、4G、5G以及未来的 6G 技术。3GPP 将卫星纳入移动通信网络架构，提出了 非地面网络（Non-Terrestrial Networks, NTN）的概念，并将其作为 5G 及未来 6G 的重要组成部分。</p> </blockquote> <p>然而，这种跨技术对外部导航卫星的依赖，却成为直连蜂窝卫星网络的“阿喀琉斯之踵”。众所周知，GNSS 信号微弱（源自 20,000–35,000 公里高的中地球轨道），且星座规模小（仅数十颗卫星），极易受到无线电干扰或恶意操控（如欺骗攻击）而导致服务中断或定位错误。</p> <blockquote class="block-tip"> <p>💡 3GPP（第三代合作伙伴计划）通过其 Release 17（2022年）首次正式引入非地面网络（NTN）支持，允许普通手机通过低轨（LEO）或地球静止轨道（GEO）卫星直接接入 4G/5G 网络，并在后续的 Release 18 和 19 中进一步增强了 NTN 功能，包括卫星广播系统信息（如 SIB19/SIB31，内含卫星星历）、上行定时提前（TA）与多普勒频移预补偿、基于 GNSS 的定位辅助接入，以及漫游策略与授权机制。直连蜂窝卫星系统（如 Starlink、AST、Globalstar 等）之所以能利用普通智能手机实现通信，正是基于对 3GPP NTN 标准的遵循——它们复用 LTE 或 5G NR 的物理层、MAC 层、RRC 和 NAS 协议栈，使终端无需专用硬件，仅通过软件升级即可支持卫星通信。然而，3GPP 也在标准（如 TS 38.300）中明确规定：终端在接入卫星前必须具备有效的 GNSS 位置和星历信息，否则禁止发送上行信号，这一强制要求正是论文所指出的“对 GNSS 过度依赖”的技术根源。正因如此，包括苹果 iPhone 的卫星 SOS（基于 Globalstar）、Google Pixel 的卫星求救（基于 Skylo）以及 T-Mobile 与 Starlink 的合作等产业落地项目，都高度依赖 3GPP NTN 标准来实现全球互操作性与兼容性。</p> </blockquote> <p>作者在第 3 节中的分析与实地测试表明，这些 GNSS 缺陷会传导至直连蜂窝卫星网络，威胁其可用性与功能正确性，导致计费错误（多收或少收）、未授权服务，甚至在卫星信号可达的情况下仍被拒绝服务。而这种跨技术依赖超出了直连蜂窝卫星系统的控制范围。虽然可通过使用带宽更大、具备加密保护的军用 GNSS 来缓解，但这类高阶 GNSS 对普通手机和物联网设备而言既不可用也不经济。</p> <p>本文探讨在不依赖外部卫星导航的前提下实现直连蜂窝卫星网络的可行性。作者认为，摆脱对外部服务的不可控依赖，是提升直连蜂窝卫星网络鲁棒性的理想特性。然而，核心挑战在于：当外部导航提供的位置和时间信息不可靠或缺失时，如何仍能保证网络功能的正确性。</p> <p>为此，作者提出一种自导航的直连蜂窝 LEO 卫星网络新范式。该范式遵循“命运共享”（fate-sharing）的网络设计原则，旨在只要通信链路可用，网络服务就应始终在线，而不受外部导航服务可靠性的影响。其实现基于两个关键思想：</p> <ul> <li>将直连蜂窝卫星本身用作导航源：与 GNSS 类似，直连蜂窝卫星可通过其广播信号和可预测的星历实现导航功能。只要卫星在服务中，用户即可利用其进行高可用的内置定位与授时。相比中地球轨道上的小规模 GNSS 星座，LEO 超大规模星座距离用户更近、信号更强、可见卫星更多，因此可作为 GNSS 的可靠补充。</li> <li>面向网络的导航（Network-oriented navigation）：不同于专用导航卫星，直连蜂窝卫星因其通信本质，无法始终保证高精度定位或授时。幸运的是，作者发现高精度导航并非总是必需。直连蜂窝卫星网络的可用性与导航精度之间存在灵活、动态的权衡空间，允许在定位精度较低的情况下仍提供功能正确的网络服务。</li> </ul> <p>作者的解决方案 SN2（Self-Navigating direct-to-cell Satellite Network）融合上述理念，构建高可用、强韧的卫星网络。SN2 并不追求高精度导航，而是结合 GNSS 与内置的直连蜂窝导航，以“足够好”的位置和时间信息，尽快激活网络服务，且几乎不增加硬件或通信资源开销。为此，SN2 重新审视了卫星蜂窝网络在无线接入、认证和授权环节对导航的实际需求，并在不损害功能正确性的前提下安全地放宽这些需求。</p> <p>通过复用现有的蜂窝信号和控制消息，SN2 可在现有手机/IoT 设备、卫星及 3GPP NTN 架构上增量部署。需要强调的是，SN2 并非要取代 GNSS，而是一种混合方案，可在 GNSS 失效或不准时作为后备选项，确保卫星服务不中断。</p> <p>作者在商用卫星手机和 Amarisoft NTN 协议栈上对 SN2 进行了原型实现与评估。结果表明，相比标准 3GPP NTN 方案以及正在运行的 Iridium/Globalstar 直连蜂窝 LEO 卫星系统，SN2 可将网络可用性提升 4.4–23.5 倍，并将接入延迟降低 1.9–12.3 倍。</p> <p>伦理声明：本研究不涉及伦理问题。所有实验均使用自有设备进行，未对运行中的卫星、网络或用户造成任何影响。</p> <h3 id="简要概括">简要概括</h3> <p>SN2（Self-Navigating direct-to-cell Satellite Network）通过摆脱对 GNSS（全球导航卫星系统）的强依赖，在 GNSS 不可用、不准或被干扰/欺骗时仍能维持网络服务，从而显著提高网络可用性并降低接入延迟。其核心机制体现在以下三个方面，分别对应直连蜂窝卫星网络的三个关键环节：无线接入（Radio Access）、认证（Authentication）和授权（Authorization）。</p> <p><strong>无线接入</strong>：放宽定位精度要求，实现“足够好”的自导航</p> <ul> <li>问题：传统方案要求终端必须有高精度 GNSS 位置，才能计算上行定时提前（TA）和多普勒频移补偿，否则无法接入卫星。</li> <li>SN2 的改进： <ul> <li>发现无需精确地理坐标，只需相对距离和相对速度（用于 TA 和 Doppler 补偿）即可完成接入。</li> <li>定义了“可容忍定位误差区域”（如环形区域），只要终端位置落在该区域内，即使绝对位置不准，也能成功同步。</li> <li>采用“边定位边尝试接入”的试错策略：一旦某次定位结果足以支持接入，立即停止进一步定位，避免等待高精度 GNSS 定位（TTFF 可达数十秒）。</li> <li>在 GNSS 失效时，仅用一颗可见直连蜂窝卫星（通过其广播的 PSS/SSS 和星历）进行单星多普勒/时延三角定位，作为底线保障。</li> </ul> </li> </ul> <p>✅ 效果：即使无 GNSS，也能在数秒内完成首次接入，接入延迟降低 1.9–12.3 倍。</p> <blockquote class="block-tip"> <p>TA（Timing Advance）是蜂窝系统中用于上行同步的时间提前量。在直连蜂窝卫星中，由于距离远、延迟大，TA 的准确计算至关重要。传统方案依赖 GNSS 提供位置来预补偿 TA，而 SN2 通过放宽精度要求和利用卫星自导航，实现了无需 GNSS 的可靠 TA 估计，从而提升网络可用性并降低接入延迟。<br/> 多普勒频移补偿 是直连蜂窝卫星通信中确保上行/下行信号正确解调的关键步骤。由于 LEO 卫星高速运动，频移极大，必须提前预补偿。传统方法强依赖 GNSS，而 SN2 通过放宽精度要求 + 自导航机制，实现了无需 GNSS 也能有效补偿多普勒频移，从而提升网络可用性并降低接入延迟。</p> </blockquote> <p><strong>认证</strong>：基于“单调时间”的自定时机制，抵御重放攻击</p> <ul> <li>问题：现有方案依赖 GNSS 提供精确时间来验证卫星广播消息（如 SIB）的数字签名新鲜度；若 GNSS 时间被篡改，可能接受重放的伪造卫星信号。</li> <li>SN2 的改进： <ul> <li>利用“合法卫星不会广播未来时间戳”这一事实，提出单调自定时（Monotonic Self-Timing）： <ul> <li>终端扫描所有可见卫星的 SIB 签名时间戳；</li> <li>将本地时间设为最新合法时间戳；</li> <li>任何早于该时间的重放消息均被拒绝。</li> </ul> </li> <li>即使 GNSS 时间被欺骗，只要存在至少一颗合法卫星，终端就能恢复正确时间并识别伪造卫星。</li> </ul> </li> </ul> <p>✅ 效果：在 GNSS 被干扰或欺骗时仍能完成安全认证，避免服务拒绝，提升可用性。</p> <p><strong>授权</strong>：按需、非阻塞的漫游策略授权</p> <ul> <li>问题：传统方案采用“全有或全无”策略——必须提供高精度位置才能授权服务，否则直接拒绝，导致在 GNSS 不可用时完全无法使用。</li> <li>SN2 的改进： <ul> <li>观察到：90% 以上的卫星波束覆盖区域具有同质漫游策略（如同一国家内），无需精确位置即可授权</li> <li>提出动态授权模型： <ul> <li>若波束覆盖单一策略区域 → 立即授权，无需位置；</li> <li>若波束跨越多策略区域（如国界）→ 利用网络侧测距（基于上行 TA）校准用户位置，缩小定位范围；</li> <li>仅在极少数模糊情况下（&lt;3%）才要求终端进一步提高定位精度。</li> </ul> </li> <li>支持按服务分级授权：短信/语音只需波束级定位，紧急 SOS 才需高精度。</li> </ul> </li> </ul> <p>✅ 效果：绝大多数场景下无需等待 GNSS 定位即可获得服务，大幅减少授权延迟，尤其在 GNSS 失效时仍能提供基础服务。</p> <p><strong>综合效果</strong></p> <table class="table table-sm table-bordered"> <thead> <tr> <th class="text-center">场景</th> <th class="text-center">传统方案（依赖 GNSS）</th> <th class="text-center">SN2</th> </tr> </thead> <tbody> <tr> <td class="text-start">GNSS 正常</td> <td class="text-start">可用，但需等待高精度定位</td> <td class="text-start">更快接入（利用更多卫星+放宽精度）</td> </tr> <tr> <td class="text-start">GNSS 被干扰/欺骗</td> <td class="text-start">完全不可用</td> <td class="text-start">仍可接入（自导航+自定时）</td> </tr> <tr> <td class="text-start">卫星切换频繁（LEO 特性）</td> <td class="text-start">需反复获取 GNSS</td> <td class="text-start">复用首次定位结果，快速重连</td> </tr> </tbody> </table> <h3 id="总结">总结</h3> <p>SN2 的核心思想是：将直连蜂窝卫星本身作为导航源，通过“命运共享”（fate-sharing）原则，让通信链路的可用性不再受制于外部 GNSS。它不追求高精度导航，而是根据网络功能的实际需求，提供“刚好够用”（good enough）的位置和时间信息，从而在几乎不增加硬件或通信开销的前提下，实现高可用、低延迟、抗攻击的直连蜂窝卫星网络。</p> <hr/> <h2 id="starcdn-moving-content-delivery-networks-to-space">StarCDN: Moving Content Delivery Networks to Space</h2> <p><strong>StarCDN：将内容分发网络迁移至太空<d-cite key="10.1145/3718958.3754345"></d-cite></strong></p> <h3 id="摘要-1">摘要</h3> <p>低地球轨道（LEO）卫星网络（如 Starlink）提供全球互联网接入，目前已为数百万用户提供内容服务。近期研究表明，现有的网络基础设施（如内容分发网络，CDN）并不适合卫星网络架构。传统的地面 CDN 会降低卫星网络用户的性能体验，且无法缓解地面与卫星链路之间的拥塞问题。</p> <p>为此，作者设计了 StarCDN——一种新型 CDN 架构，将内容缓存在太空中，以提升用户体验并减少地–星链路的带宽消耗。设计 StarCDN 的核心挑战在于卫星的轨道运动：每颗卫星的覆盖区域快速变化，可能在几分钟内从服务美国转为服务欧洲等截然不同的地区。</p> <p>为应对这一挑战，作者提出了专为 LEO 卫星网络定制的一致性哈希和中继获取（relayed fetching）机制。该设计使缓存内容能够逆着卫星轨道运动方向流动，从而抵消卫星运动带来的影响。</p> <p>作者利用 Akamai 的真实世界流量轨迹对 StarCDN 与多个基线方案进行了评估。结果表明，StarCDN 可将地–星上行链路带宽利用率降低 80%，并将用户感知延迟改善 2.5 倍。此外，作者还开源了一个名为 SpaceGEN 的轨迹生成器，用于对基于卫星的 CDN 进行逼真的仿真。</p> <h3 id="介绍-1">介绍</h3> <p>由运行在低地球轨道（LEO）上的巨型星座所提供的卫星网络正迅速普及。领先的 LEO 卫星网络提供商 Starlink 目前已在 100 多个国家拥有超过四百万用户。它目前已部署超过 7000 颗卫星，并计划扩展至 4 万颗，同时提供直连手机的服务。同样，OneWeb 和亚马逊 Kuiper 等公司也已提供或计划提供类似的基于 LEO 卫星的网络服务。LEO 卫星网络（LSNs）越来越多地被用于向全球用户分发内容。作者的工作聚焦于利用 LSN 提升内容分发的性能并降低成本。</p> <p>内容分发网络（CDN）：CDN 在约四分之一个世纪前被发明，旨在提升通过地面互联网分发网站、媒体和下载等内容的性能并降低成本。CDN 在全球部署数十万个“边缘”服务器，将内容缓存在靠近用户的位置进行分发。这使得内容能够以更低的延迟交付给用户，因为内容只需经过从边缘服务器到用户的较短网络路径。此外，CDN 还降低了成本和网络资源消耗：内容只需从源服务器下载一次到 CDN 边缘服务器，便可多次分发给用户，从而节省了从源服务器到边缘节点的上游广域网带宽。为了实现这些性能和成本优势，CDN 在全球部署大量边缘服务器集群，每个集群为邻近的一组用户提供缓存和分发服务。此外，CDN 还采用一致性哈希等先进技术来管理集群内的内容。CDN 所带来的优势使其成为现代互联网基础设施中不可或缺的组成部分，目前承载了全球近 75% 的互联网流量。</p> <p>现有方案的不足：当前将传统（地面）CDN 技术与 LSN 结合使用的方案存在若干缺陷，这也正是作者研究的动机。近期研究表明，在 Starlink 中使用传统地面 CDN 会降低用户的体验质量。这种性能下降的原因在于，Starlink 中的用户流量采用“弯管”架构：用户连接到一颗卫星，该卫星再连接到最近的地面站，如下图所示。随后，地面站连接到地面 CDN 的边缘服务器，这会使延迟增加超过 100 毫秒。一小部分网络流量也可能通过星间链路（ISL）传输——与地–星链路（20 Gbps）相比，星间链路具有更充足的带宽（100 Gbps）。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-10-19-sigcomm25/starCDN-480.webp 480w,/assets/img/blogs/2025-10-19-sigcomm25/starCDN-800.webp 800w,/assets/img/blogs/2025-10-19-sigcomm25/starCDN-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-10-19-sigcomm25/starCDN.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> Satellite network </div> <p>在这种情况下，图中区域 1 的用户可能会通过星间链路连接到区域 2 的 CDN 边缘服务器，而该服务器距离其本地位置远得多。除了延迟增加之外，区域 2 的 CDN 服务器可能缓存了不同的内容，并应用了不同的地理访问限制。例如，有研究观察到，非洲用户可能连接到欧洲的地面站，进而连接到缓存了欧洲特定内容的 CDN 服务器。</p> <p>除了因延迟增加导致的性能下降外，传统 CDN 也无法改善 LSN 中卫星链路的利用率。在当前的方案中，如果多个用户观看同一段视频，该视频必须多次上传到卫星，浪费了宝贵的上行链路带宽。</p> <p>作者的关注点：本研究的核心问题是——CDN 技术能否用于提升 LSN 用户的内容分发性能、改善网络资源利用率并降低运营成本？作者回答这一问题的主要思路是探索是否可以在 LEO 卫星上部署边缘服务器系统，以在太空中缓存并向（地面）用户提供内容。然而，实现这一思路面临一个重大挑战：由于卫星每 90 分钟绕地球一圈，这些边缘服务器处于高速运动状态。与传统 CDN 中静止的边缘服务器不同，在作者的场景中，靠近某颗边缘服务器的用户群体每几分钟就会动态变化，其内容访问模式也随之快速改变。重新思考 LSN 环境下 CDN 边缘集群架构，特别是其内容放置、请求路由和缓存机制，是本研究的主要贡献。</p> <p>作者的方法：作者提出了一种名为 StarCDN 的新型空间内容分发网络，专为 LSN 设计。StarCDN 利用卫星日益增强的计算能力，在太空中部署可缓存内容的边缘服务器，从而降低用户访问延迟并提升体验质量。此外，StarCDN 还减少了卫星网络所需的上行带宽，使稀缺的频谱资源可用于满足下行需求。在设计 StarCDN 时，作者解决了三个关键挑战：</p> <p>（i）多卫星冗余问题：为了在远距离提供最佳服务，LSN 通常部署由数千颗卫星组成的密集星座。因此，任意时刻，一名 Starlink 用户可同时连接 10 颗以上的卫星。由于卫星轨道运动，这一卫星集合是动态的，几分钟内就可能发生改变。由于用户可连接到任意可见卫星，为确保用户能可靠地从缓存获取所请求的内容，该内容必须在所有可见卫星上都进行缓存。这会导致缓存命中率低下，并浪费卫星上宝贵的存储空间。</p> <blockquote class="block-tip"> <p>💡 在 Naive LRU 方案（即传统 CDN 直接搬到每颗卫星上）中，每颗卫星独立缓存自己看到的热门内容。但由于用户可能连接任意可见卫星（比如 10 颗），同一个热门对象很可能被多颗卫星重复缓存（冗余）。</p> </blockquote> <p>为应对这一问题，作者提出了一种适用于卫星部署的一致性哈希方案。在 StarCDN 中，作者将每个对象哈希到 K 个（例如 K=4）桶之一，并将每个桶映射到不同的卫星。当一颗卫星收到对其自身桶内数据的请求时，可直接返回数据（缓存命中）或从地面请求数据（缓存未命中）。但如果卫星收到对其他桶中数据的请求，则通过星间链路将请求转发给负责该桶的邻近卫星。作者将桶以网格模式映射到卫星星座上，使得任意桶距离请求卫星最多不超过 $ 2 \left\lfloor \frac{\sqrt{K}}{2} \right\rfloor $ 跳。该一致性哈希方案在优化太空存储利用率的同时，最小化了请求所需的额外延迟。</p> <blockquote class="block-tip"> <p>💡 “对象” 通常指用户请求的内容单元，例如一个网页、一张图片、一个视频片段或者一个安装包文件等。在 StarCDN 中，每个这样的内容单元被视为一个 缓存对象（cacheable object），并被赋予一个唯一的标识符（如 URL 或内容哈希）。StarCDN 对这些对象进行哈希，以决定它们应被缓存在哪颗卫星上。</p> </blockquote> <blockquote class="block-tip"> <p>💡 以 K = 4 为例，此时按照 2 X 2 网格模式映射到整个卫星星座上，在一个周期为 $\sqrt{K} \times \sqrt{K}$ 的网格中，任意桶类型在水平和垂直方向上的最大偏移均为 $\left\lfloor \frac{\sqrt{K}}{2} \right\rfloor$，因此曼哈顿距离（跳数）最多为 $2 \left\lfloor \frac{\sqrt{K}}{2} \right\rfloor$</p> </blockquote> <p>（ii）轨道运动问题：在地面 CDN 中，对象被缓存在物理上靠近用户的服务器中，缓存决策依赖于 CDN 服务区域内对象的本地热度特征。例如，最近最少使用（LRU）或最不经常使用（LFU）的对象会被逐出缓存，为新对象腾出空间。然而，LEO 卫星以约每秒 8 公里的速度绕地球运行，对某一地点的服务时间通常不到 10 分钟。一颗刚刚服务美国用户的卫星，几分钟后可能就在服务欧洲用户。因此，访问模式、热度统计和缓存内容会迅速过时，导致命中率低下。作者的分析表明，由于轨道运动，部署在卫星上的简单 LRU 缓存命中率将低于 60%。</p> <p>为应对轨道运动的影响，StarCDN 引入了一种中继获取（relayed fetch）技术：当发生缓存未命中时，卫星可通过星间链路向具有相同桶 ID 的邻近卫星中继请求。这使得 StarCDN 能够利用刚刚服务过某区域的前一颗卫星所缓存的对象。实际上，这使得缓存内容能够逆着轨道运动方向流动。需要注意的是，这种反向流动不会传播已不再热门的内容，因为中继仅在访问对象发生缓存未命中时才会触发。作者将中继限制在最近邻卫星，以控制由此产生的额外延迟。</p> <p>（iii）一种新颖且公开可用的轨迹生成器，用于捕捉全球分布的 LSN 用户的内容访问模式：评估基于太空的 CDN 设计具有挑战性，因为它需要能反映全球用户内容访问行为的、地理分布广泛的流量轨迹。传统 CDN 设计通常使用一个（或少数几个）地点的轨迹进行评估。然而，卫星绕地球运行，要有效评估 StarCDN，作者需要长时间、多地点的真实轨迹。为此，作者首先从 Akamai CDN 在全球九个地点收集了一天的真实流量轨迹。随后，作者设计了一种新的合成轨迹生成器 SpaceGEN，它利用“足迹描述符”来同时捕捉：（1）单个地点内内容访问的时间变化特征（如对象访问频率）；（2）不同地点之间内容访问的地理差异（如各地访问内容的重叠程度）。此外，SpaceGEN 还能为 CDN 承载的主要流量类型（如网页、视频和软件下载）生成合成轨迹。该轨迹生成器使得对 StarCDN 及其他基线方案进行长期、逼真的评估成为可能。</p> <p>贡献总结：</p> <ul> <li>StarCDN 是首个面向太空的 CDN，旨在提升 LSN 用户的内容访问体验，同时优化地–星网络的资源利用率（第 3 节）。</li> <li>作者设计并评估了一种专为 LSN 定制的一致性哈希方案，以减少卫星缓存中的冗余并提升缓存性能（第 3.2 节）；此外，作者还设计并评估了一种中继获取机制，用以抵消卫星轨道运动带来的负面影响（第 3.3 节）。</li> <li>StarCDN 使用来自全球分布的 LSN 用户的真实内容访问轨迹进行评估。这些合成轨迹由作者开发的新轨迹生成器 SpaceGEN 生成，能够为视频、网页和下载等不同流量类型生成与实际生产轨迹相似的合成数据（第 4 节）。据作者所知，SpaceGEN 是首个在缓存仿真中同时考虑用户内容访问模式的时间变化和地理差异的轨迹生成器。为支持该领域的进一步研究，作者已在 GitHub 上开源了 StarCDN 仿真框架和 SpaceGEN 轨迹生成器。</li> <li>作者使用真实服务器模拟卫星上的 CDN 边缘服务器，并利用 Microsoft CosmicBeats 仿真器模拟卫星轨道运动和覆盖范围（第 5 节）。实验中作者模拟了 1170 颗 Starlink 卫星。结果表明，StarCDN 可将太空中的缓存命中率从 60% 提升至 75%，将卫星网络上行链路利用率最高降低 80%，并将用户感知延迟改善 2.5 倍。</li> </ul> <h3 id="总结-1">总结</h3> <p>StarCDN 是首个专为 LEO 卫星设计的太空 CDN 架构，通过巧妙结合一致性哈希与中继获取，在高速动态的卫星环境中实现了高效、低冗余、低延迟的内容分发，为未来星载计算与边缘服务提供了重要范式。同时，其开源工具（StarCDN 模拟器 + SpaceGEN）也为后续研究奠定了基础。</p> <hr/> <h2 id="sate-low-latency-traffic-engineering-for--satellite-networks">SaTE: Low-Latency Traffic Engineering for Satellite Networks</h2> <p><strong>SaTE：面向卫星网络的低时延流量工程<d-cite key="10.1145/3718958.3750524"></d-cite></strong></p> <h3 id="摘要-2">摘要</h3> <p>本文探讨了大规模低地球轨道（LEO）卫星星座的流量工程（Traffic Engineering, TE）问题。尽管已有大量关于全球云广域网（WAN）的 TE 算法研究，但这些方法通常针对静态网络拓扑设计，且在大规模网络中计算耗时较长。这些局限性使得现有 WAN 的 TE 算法难以适用于拓扑结构快速变化、且需在严格时延约束下计算最优流量分配的大规模卫星网络。</p> <p>为此，作者提出了 SaTE——一种面向大规模卫星网络的低时延 TE 算法，可在毫秒级时延内完成流量分配计算。SaTE 通过构建一个异构图来建模 TE 问题，从而适应动态变化的卫星拓扑。通过剔除图中的冗余关系，SaTE 有效降低了计算开销，使该图能够被图神经网络（GNN）高效学习，并利用 GPU 快速推断出流量分配方案。此外，SaTE 还利用卫星网络拓扑的相似性以及流量需求的地理空间分布特性，以促进模型训练。</p> <p>作者在当前规模最大的卫星星座——拥有 4236 颗卫星的 Starlink 上，通过大量数据驱动的仿真实验对 SaTE 进行了评估。结果表明，SaTE 在满足的流量需求方面提升了 23.5% 以上，平均 TE 计算时延仅为 17 毫秒，相比商用求解器实现了 2738 倍的加速。</p> <h3 id="介绍-2">介绍</h3> <p>近年来，卫星网络经历了快速发展，为高速互联网接入、直连手机通信以及物联网连接（如全球资产追踪和精准农业）等应用提供了支持。这些卫星网络的规模显著扩大；例如，Starlink 已部署超过 6000 颗卫星，服务用户达 300 万，并计划进一步扩展至 12000 颗。</p> <p>随着星座规模不断扩大、用户流量需求激增，卫星网络必须在卫星节点之间精心分配流量，以提供高吞吐量的服务。现有的卫星网络流量分配方法，例如基于拥塞规避或服务质量约束的路由策略，往往因其分布式特性而在网络中造成拥塞和热点问题。</p> <p>地面广域网中也存在类似问题，这推动了集中式流量工程（Traffic Engineering, TE）算法的最新进展。这些算法将流量分配建模为一个全局优化问题，在预配置路径上计算流量分配，以实现诸如最大化整体吞吐量等目标。尽管面向卫星的软件定义网络为将这些 TE 算法应用于卫星网络铺平了道路，但卫星网络的动态特性给现有 TE 算法带来了挑战。</p> <blockquote class="block-tip"> <p>💡 流量工程（TE）是一类用于优化网络中数据流分配的核心技术，其根本目标是在给定网络拓扑、链路容量和用户流量需求的前提下，合理地将流量分配到多条可行路径上，从而提升整体网络性能。这种性能可以体现为更高的吞吐量、更低的链路拥塞、更均衡的资源利用，或更小的端到端时延。传统上，TE 被建模为一个全局优化问题：网络控制器（如 SDN 控制器）收集全网的流量矩阵和拓扑信息，然后通过求解一个数学规划问题（通常是线性规划），计算出每对通信节点之间的流量应如何在预配置的多条路径上分配，以满足特定的优化目标，例如最大化满足的总流量需求或最小化最大链路利用率。<br/> 在地面广域网（WAN）中，TE 已被广泛应用，例如 Google 的 B4 网络就通过集中式 TE 实现了接近 100% 的链路利用率。然而，这些传统方法通常假设网络拓扑是静态或变化缓慢的，并且计算复杂度随网络规模急剧上升——对于拥有数千节点的大型网络，商用求解器可能需要数分钟甚至更长时间才能得出解。这种高延迟在动态环境中（如低轨卫星网络）变得不可接受，因为卫星之间的星间链路（ISL）可能每几十毫秒就发生变化，导致预先计算的路径迅速失效。如果 TE 计算速度跟不上拓扑变化的速度，不仅会造成大量链路资源被排除在调度之外，还会引发严重的带宽浪费和性能下降。<br/> 为应对这一挑战，近年来研究者开始探索基于机器学习的 TE 方法，尤其是利用图神经网络（GNN）。这类方法将 TE 问题转化为一个推理任务：通过训练 GNN 模型学习从网络状态（拓扑、流量、路径）到最优流量分配的映射关系。一旦训练完成，模型可在毫秒级时间内完成推理，极大缩短了 TE 计算延迟。更重要的是，GNN 天然适用于图结构数据，能够泛化到未见过的拓扑，从而适应动态变化的网络环境。然而，早期的 GNN-TE 方法往往依赖额外的全连接神经网络（DNN）层来建模流量与路径之间的关联，而 DNN 要求输入维度固定，无法适应拓扑变化，导致模型泛化能力受限，需要频繁重新训练。<br/> 因此，一个理想的 TE 算法，尤其是在卫星网络这样的动态大规模场景中，需要同时满足三个关键要求：一是低时延，能在几十毫秒内完成计算；二是强泛化能力，能适应不断变化的拓扑和流量模式，无需频繁重训；三是可扩展性，能高效处理数千节点规模的网络。像 SaTE 这样的新型算法正是围绕这些目标设计的，它通过构建一个完整刻画 TE 问题的异构图，并仅使用 GNN 进行端到端学习，避免了对固定维度 DNN 的依赖，从而实现了高速、灵活且可泛化的流量工程。</p> </blockquote> <p>首先，拓扑频繁变化：与地面广域网的静态拓扑不同，低轨卫星网络（如 Starlink）的拓扑结构变化频繁，变化间隔从数秒到快至每 70 毫秒一次。这些变化使得预配置的网络路径迅速过时，甚至几秒钟的 TE 计算时间都难以跟上拓扑变化的速度，从而导致吞吐量显著下降。</p> <p>其次，流量波动剧烈：面向用户的网络流量具有亚秒级的动态特性，而流量预测本身也难免存在误差。这些因素要求 TE 系统能够实时响应瞬时的流量波动。然而，现有 TE 算法无法同时应对这两种动态性。商用求解器和启发式方法在计算 TE 时，其复杂度随网络规模呈多项式甚至更高阶增长，通常需要数分钟甚至更长时间进行计算——这对于快速变化的流量而言显然太慢了。</p> <p>近期一些基于机器学习的 TE 解决方案在静态广域网上实现了快速计算，但它们训练出的模型通常绑定于单一拓扑结构，每次拓扑变化都需要数小时重新训练，这在拥有海量动态拓扑的卫星网络中是不现实的。因此，目前仍缺乏一种能够适应卫星网络快速变化拓扑和动态流量的低时延 TE 解决方案。</p> <p>为此，作者提出了 SaTE——一种专为动态卫星星座设计的低时延 TE 算法。SaTE 的核心是一种新颖的卫星 TE 图结构，它对整个 TE 问题进行建模，使得仅通过图神经网络（GNN）层即可快速计算 TE，并适应拓扑与流量的频繁变化。此外，SaTE 还利用卫星网络拓扑之间的结构相似性以及用户流量需求的地理空间分布特性，显著减少训练数据集的规模，同时在未见过的拓扑上保持良好的泛化能力。</p> <p>作者在模拟的 4236 颗卫星组成的 Starlink 星座上对 SaTE 进行了详尽的数据驱动仿真评估。结果表明，SaTE 的 TE 计算平均时延仅为 17 毫秒，相比商用求解器实现了 2738 倍的加速，并在满足的流量需求方面至少提升了 11.0%，相比当前最先进的方法提升了超过 23.5%。</p> <p>SaTE 旨在为大规模卫星网络实现低时延的 TE 计算。现有基于 GNN 的 TE 方法通常采用仅捕捉部分 TE 组件（如链路连通性）的图结构，并依赖密集神经网络（DNN）层来建模流量需求与路径关联等关键关系。然而，DNN 层要求输入维度固定，无法泛化到未见过的拓扑，需要频繁重新训练。为解决这一问题，SaTE 构建了一个异构图，完整建模整个 TE 问题。该设计消除了对 DNN 层的依赖，使 GNN 能够独立学习并求解 TE 问题，从而泛化到新拓扑，并适应网络路径和流量需求等关键组件的动态变化。此外，SaTE 通过移除图中的冗余关系来降低计算时延，并在此简化图的基础上构建了一个支持注意力机制的 GNN 用于流量分配。</p> <p>SaTE 还考虑了训练的可行性与效率。对于拥有数千颗卫星的星座，每个训练数据点及其对应的图所需内存（例如 Starlink 需要 335 GB）远超 GPU 容量。此外，如何在多 GPU 上高效训练单个大图仍是一个开放性难题。SaTE 通过剪枝 TE 输入中的非关键元素来解决这一问题，利用全球卫星用户分布的稀疏性——例如，飞越沙漠等人口稀疏区域的卫星通常没有流量需求，导致大量路径处于空闲状态。得益于 SaTE 的图结构设计，这种输入剪枝成为可能，而依赖固定输入尺寸 DNN 的先前方法则无法实现这一点。</p> <p>另一个挑战是 Starlink 拓扑变化数量庞大。若对所有可能拓扑进行训练，不仅容易过拟合，还会带来极高的训练开销。SaTE 转而探索卫星拓扑的相似性：尽管卫星在轨道上位置不断变化，但某些网络拓扑仍保持相似甚至同构。因此，作者开发了一种拓扑剪枝方法，在保证性能的同时大幅减少所需训练数据点数量。通过结合这些剪枝策略，SaTE 显著压缩了数据集规模，使训练变得可行并降低了开销。</p> <p>作者在 Starlink（4236 颗卫星）的模拟环境中对 SaTE 的可行性进行了广泛评估，涵盖仅使用星间激光链路和部分使用地面中继链路的场景。作者为全球 300 万卫星用户生成了包含语音、视频和文件传输等多种服务的流量矩阵，并模拟了不同总体流量负载（如到达强度）下的波动情况。训练好的 SaTE 模型在未见过的拓扑和流量上进行了测试，结果表明：</p> <ul> <li>SaTE 在求解 Starlink 的 TE 问题时，计算时延仅为 17 毫秒，相比商用求解器提速 2738 倍；</li> <li>SaTE 在 Starlink 中满足的流量需求至少高出 11.0%，相比当前最先进的方法提升超过 23.5%；</li> <li>SaTE 在不同规模的卫星网络上均展现出良好的泛化能力，即使在训练时未见过的拓扑和流量下也能保持高性能。</li> </ul> <p>主要贡献包括：</p> <ul> <li>面向动态大规模低轨卫星星座的低时延 TE 计算方案；</li> <li>一种显著减少训练数据量的数据集剪枝技术，便于模型训练；</li> <li>在模拟的超大规模星座（Starlink）上对 SaTE 性能的详尽评估。</li> </ul> <h3 id="总结-2">总结</h3> <p>SaTE通过图建模创新 + 智能剪枝 + GNN端到端学习，首次实现了适用于超大规模动态卫星网络的毫秒级、高精度、强泛化的流量工程。</p> <hr/> <h2 id="small-scale-leo-satellite-networking-for-global-scale-demands">Small-scale LEO Satellite Networking for Global-scale Demands</h2> <p><strong>面向全球需求的小规模低轨卫星组网<d-cite key="10.1145/3718958.3750525"></d-cite></strong></p> <h3 id="摘要-3">摘要</h3> <p>我们真的需要数以万计的低地球轨道（LEO）卫星才能满足巨大的全球互联网需求吗？尽管大规模 LEO 星座网络已被证明可行且具有价值，但其高昂的资本支出、市场垄断风险以及对太空资源不可持续的占用引发了广泛关注。作者的分析表明，由于卫星供给与实际物理需求在空间上分布不均，现有星座中的大多数卫星实际上处于低效利用甚至浪费状态。为此，作者提出了 TinyLEO —— 一种通过动态时空供需匹配来缩减 LEO 网络规模的软件定义解决方案。TinyLEO 通过组合多样但稀疏的轨道，按需稀疏化卫星部署；利用轨道模型预测控制（MPC）隐藏稀疏 LEO 网络的复杂性；并将处理这些复杂性的责任转移至其地理分段任播（geographic segment anycast）机制，从而实现更高的网络可用性、更低的资源浪费、更快的故障切换、更简化的卫星设计以及更灵活的网络编排。作者已将 TinyLEO 原型化为一个面向社区的开源工具包。评估结果表明，TinyLEO 可将现有 LEO 星座规模压缩 2.0–7.9 倍，控制平面开销降低 1–3 个数量级，同时仍能满足相同的需求并保持可比的数据平面性能。</p> <h3 id="介绍-3">介绍</h3> <p>低地球轨道（LEO）卫星巨型星座正在掀起一场“从太空提供互联网”的革命。凭借数量庞大的卫星和超高容量的链路，它们承诺为地球上大量尚未联网的用户提供高速互联网接入。截至今日，领先的 LEO 巨型星座 SpaceX 的 Starlink 已部署约 7,000 颗卫星和 13,000 条星间链路，总容量达 350 Tbps，为来自 118 个国家的超过 460 万活跃用户提供服务，用户下载速度可达约 100 Mbps。其他 LEO 巨型星座网络，如 OneWeb、GW 和 Kuiper，也正在规划或部署中，以追赶 Starlink 的步伐。</p> <p>尽管取得了巨大成功，LEO 卫星巨型星座也引发了诸多担忧。即使火箭可重复使用和卫星小型化等技术不断进步，其制造、发射和运营成本对大多数互联网服务提供商和国家而言仍然高得难以承受。这种高门槛导致全球 LEO 网络市场被极少数科技巨头垄断，已引起监管机构和发展中国家的关注。更重要的是，巨型星座中数量庞大的卫星严重加剧了近地轨道的拥堵，威胁到全人类对太空资源的可持续与安全使用。</p> <p>为应对这些挑战，作者探索 LEO 巨型星座的替代方案。作者的目标是缩小 LEO 网络规模，使用更少的卫星，同时在大规模乃至全球用户场景下，仍能保持与巨型星座相当的可用性、性能和弹性。这将有助于更多小型互联网服务提供商和国家拥有负担得起的卫星网络，推动该全球市场的民主化，并缓解轨道拥堵，提升太空可持续性与安全性。</p> <p>作者的工作始于一个简单的洞察：LEO 巨型星座中的大多数卫星其实并未被充分利用。为了便于组网和管理，当前大多数巨型星座在空间上几乎均匀地分布其卫星，从而形成全球同质化的网络供给。然而如图 1a 所示，全球网络需求在物理上是高度不均衡的——超过 70% 的用户集中在地球陆地面积的 5% 以内，而覆盖地球表面 70.8% 的海洋区域却几乎没有用户。这种供需错配导致大量部署在低需求区域的卫星处于闲置状态，而仅靠高层负载均衡技术（如本地波束调整或全局流量调度）无法完全消除这种浪费。</p> <p>因此，作者希望通过削减这些未被充分利用的卫星来缩小 LEO 网络规模。显然，最根本的方法是重新安排卫星布局，用更少的卫星匹配不均衡的需求，这需要构建非均匀的 LEO 网络。乍看之下，这项任务似乎简单，因为当前地球静止轨道（GEO）卫星已经实现了类似目标。然而，对于动态的 LEO 卫星网络而言，这带来了两个根本性挑战：</p> <ul> <li>移动性导致供需匹配不稳定：与 GEO 卫星不同，LEO 卫星相对于旋转的地球不可避免地高速、异步移动，导致其对地面的覆盖区域快速变化。这种极端的移动性使得 LEO 星座难以持续匹配不均衡的需求。</li> <li>复杂网络难以使用：非均匀 LEO 网络需在纬度、经度和时间维度上不均匀地部署卫星，以匹配失衡的需求，这会引发异构卫星之间复杂的相对运动，加剧星间链路切换、拓扑更新和路由路径变化，进而威胁 LEO 网络的可用性、效率、弹性和易用性。</li> </ul> <p>作者通过 TinyLEO 应对上述两大挑战。TinyLEO 是一种软件定义的小规模 LEO 组网方案，通过时空维度的供需动态匹配，以较少的卫星满足全球规模的互联网需求。TinyLEO 利用轨道多样性，在极端卫星移动性下仍能实现稳定的按需网络供给。它将高层网络意图（稳定的需求）与底层执行（动态的供给）解耦，从而提升网络可用性。具体而言：</p> <ul> <li>按需 LEO 网络稀疏化：TinyLEO 组合多样但稀疏的轨道，通过时空互补削减卫星冗余（类似于视频压缩）。该过程可借助压缩感知等先进稀疏信号重构技术，高效地从少量重复覆盖地面轨迹（“纹理”）中重建网络供给。</li> <li>控制平面：稳定意图 + 轨道模型预测控制：为保持高网络可用性，TinyLEO 隐藏稀疏 LEO 网络复杂的物理动态，将其控制平面分解为基于地理区域的流量工程意图（用于稳定基础上的拓扑与路由优化）和轨道模型预测控制（MPC）中间层（用于运行时编译为动态网络供给），从而实现简单灵活的编排和在极端 LEO 动态下的低信令开销。</li> <li>数据平面：地理分段任播：TinyLEO 将处理大多数 LEO 动态的责任下放到每颗卫星的本地数据平面——因其更贴近动态源，可实现更及时高效的适配。它通过地理分段任播机制，支持策略合规、灵活的本地（重）路由、负载均衡以及对故障（如太阳风暴或星间链路中断）的快速恢复。</li> </ul> <blockquote class="block-tip"> <p>控制平面主要负责网络的“决策”功能。它不直接处理用户的数据流量，而是专注于确定数据应该如何在网络中传输。具体来说，控制平面负责计算路由路径、发现网络拓扑结构、维护邻居关系、执行策略配置（如服务质量、安全策略或流量工程），并根据网络状态动态调整转发规则。这些任务通常由路由协议（如OSPF、BGP）、集中式控制器（如SDN控制器）或卫星网络中的轨道预测模型来完成。控制平面的更新频率相对较低，可能以秒甚至分钟为单位，但它为整个网络提供了逻辑上的“地图”和“交通规则”。<br/> 相比之下，数据平面则承担“执行”角色。它根据控制平面生成的规则，高速、高效地转发用户的数据包。数据平面直接面对终端用户的流量，其核心任务是查表（如转发表或路由表）、封装/解封装数据、执行负载均衡或故障切换等操作。由于需要处理海量数据包，数据平面的设计强调低延迟、高吞吐和硬件加速，通常运行在交换机、路由器或卫星终端的转发引擎中。它的操作是实时的，响应时间往往在微秒级别。</p> </blockquote> <p>作者已将 TinyLEO 原型化为一个面向社区的开源工具包，供开放研究使用。基于该工具包的评估表明，TinyLEO 可将现有 LEO 巨型星座的规模压缩 2.0–7.9 倍（从而缓解太空拥堵/污染并节省卫星资本支出），控制平面开销降低 1–3 个数量级，同时仍能满足宽带网络需求，并保持可比的数据平面性能。</p> <p>工具包与演示视频已公开发布。</p> <p>伦理声明：本文不涉及伦理问题。</p> <h3 id="简要概括-1">简要概括</h3> <p>TinyLEO 是一种面向全球互联网需求的小规模低轨（LEO）卫星组网方案，其核心目标是在满足大规模甚至全球用户需求的前提下，显著减少所需卫星数量，从而降低部署成本、缓解轨道拥堵，并提升网络的可持续性。它通过三个关键技术实现这一目标：按需稀疏化网络布局、控制平面的稳定意图与轨道模型预测控制，以及数据平面的地理分段任播机制。</p> <p><strong>TinyLEO 如何实现低轨卫星网络的稀疏化？</strong></p> <p>传统巨型星座（如 Starlink）采用均匀分布的卫星布局，导致大量卫星在海洋、极地等低需求区域闲置，造成资源浪费。TinyLEO 的稀疏化策略基于一个关键洞察：全球网络需求在空间和时间上高度不均衡（例如 70% 用户集中在 5% 的陆地），因此无需均匀部署卫星。</p> <p>具体做法如下：</p> <ul> <li>利用多样但稀疏的轨道组合：TinyLEO 不使用密集同构轨道，而是从大量候选的“地球重复轨道”（Earth-repeat orbits）中，选择具有不同倾角（$\beta$）、升交点赤经（$\alpha$）和轨道周期（$T$）的稀疏轨道。这些轨道分别控制卫星覆盖的纬度、经度和时间重复性，通过组合它们，可在时空维度上互补覆盖，精准匹配不均衡需求。</li> <li>将稀疏化建模为压缩感知问题：TinyLEO 将网络供给（卫星部署）与需求（用户分布）的匹配问题，类比为“视频压缩”：用少量“纹理”（即地球重复地面轨迹）重构出满足需求的覆盖。它构建一个超完备的轨道库（称为“纹理库”），然后通过压缩感知（Compressed Sensing）技术，求解一个稀疏优化问题（最小化卫星总数），使得在任意时刻、任意地理区域，卫星供给 ≥ 需求。</li> <li>离线规划 + 增量部署：该稀疏化过程在离线阶段完成，输出一个非均匀但高效的卫星布局。同时支持增量扩展：当新需求出现时，只需在残差需求上继续运行稀疏匹配算法，无需重构整个网络。</li> </ul> <p>评估表明，TinyLEO 可将现有巨型星座规模压缩 2.0–7.9 倍，同时仍满足相同带宽需求。</p> <p><strong>控制平面：稳定意图 + 轨道模型预测控制（MPC）</strong></p> <p>稀疏化后的网络因轨道异构性而动态性更强（卫星相对运动复杂、链路频繁切换），传统控制方式难以应对。TinyLEO 通过解耦“高层意图”与“底层执行”来简化控制：</p> <ul> <li>地理流量工程意图（Geographic Traffic Engineering Intent）：网络操作员不再关心具体哪颗卫星，而是以地理单元（如经纬度网格）为单位定义拓扑和路由策略。例如：“北京到东京之间需 2 条星间链路”、“避开某战区”等。这种意图是稳定且与卫星无关的，屏蔽了底层动态。</li> <li>轨道模型预测控制器（Orbital MPC）：MPC 作为中间层，负责将地理意图“编译”为实时的卫星拓扑配置。它基于轨道力学预测未来一段时间内哪些卫星覆盖哪些区域，并通过三阶段稳定匹配算法（包括卫星-区域匹配、跨区域星间链路匹配、区域内环连接）生成高寿命、低切换频率的物理拓扑。</li> <li>故障快速修复：当发生链路中断或卫星失效时，MPC 接收数据平面上报，仅对受影响的地理区域进行局部重匹配，平均修复时间约 83.8 毫秒。</li> </ul> <p>该设计将控制信令开销降低 1–3 个数量级，远优于传统时空调度型 SDN（如 Aalyria 的 TS-SDN）。</p> <p><strong>数据平面：地理分段任播（Geographic Segment Anycast）</strong></p> <p>为应对 LEO 网络极端动态性，TinyLEO 将大部分实时决策下放到数据平面：</p> <ul> <li>基于地理的分段路由（Segment Routing）：每个数据包携带一个地理路径列表（如：[上海 → 东京 → 洛杉矶]），而非传统 IP 路由表。任何覆盖“上海”的卫星都可接收该包，并根据下一跳“东京”进行转发。</li> <li>任播转发机制：在每个地理单元内，所有卫星组成一个逻辑环。若当前卫星无法直连下一跳区域，它会沿环将包传递给其他“网关卫星”，直到找到能连接下一跳的卫星。这实现了无状态、本地化、高容错的转发。</li> <li>优势： <ul> <li>快速故障恢复：本地绕行，无需等待控制平面（毫秒级 vs 秒级）；</li> <li>高资源利用率：任播允许多颗卫星分担负载；</li> <li>低控制开销：无需维护全网路由状态；</li> <li>策略兼容：支持最短路径、跨洋卸载、多路径等高级路由策略。</li> </ul> </li> </ul> <h3 id="总结-3">总结</h3> <p>TinyLEO 通过 “稀疏供给匹配不均衡需求” 的核心思想，结合 控制平面的意图抽象与轨道 MPC、数据平面的地理任播转发，成功在大幅缩减卫星数量的同时，保持了与巨型星座相当的性能、可用性和灵活性。它不仅是一种技术方案，更是一种面向可持续、普惠太空互联网的新范式。</p>]]></content><author><name></name></author><category term="科研"/><category term="低轨卫星网络"/><summary type="html"><![CDATA[本文整理了 2025 年 SIGCOMM 主会议中与低轨卫星网络相关的论文。]]></summary></entry><entry><title type="html">低轨卫星网络架构</title><link href="https://cresc3nt.github.io/blog/2025/leo-net-arch/" rel="alternate" type="text/html" title="低轨卫星网络架构"/><published>2025-10-07T10:00:00+00:00</published><updated>2025-10-07T10:00:00+00:00</updated><id>https://cresc3nt.github.io/blog/2025/leo-net-arch</id><content type="html" xml:base="https://cresc3nt.github.io/blog/2025/leo-net-arch/"><![CDATA[<h2 id="低轨卫星参数">低轨卫星参数</h2> <p>所有现代低轨宽带星座均采用<strong>圆形轨道</strong>，以确保全球服务的一致性和简化轨道管理。</p> <aside> <p>这篇文章主要参考了<a href="https://bdebopam.github.io/" target="_blank">Debopam Bhattacherjee 博士</a>的毕业论文<d-cite key="DBLP:phd/basesearch/Bhattacherjee21"></d-cite>中的第二章。</p> </aside> <p>描述一颗低轨卫星主要涉及四个参数：</p> <table class="table table-sm table-bordered"> <thead> <tr> <th class="text-center">参数</th> <th class="text-center">符号</th> <th class="text-center">说明</th> </tr> </thead> <tbody> <tr> <td class="text-center">Inclination (轨道倾角)</td> <td class="text-center">$i$</td> <td class="text-start">轨道面与赤道面夹角，决定纬度覆盖范围</td> </tr> <tr> <td class="text-center">Height (轨道高度)</td> <td class="text-center">$h$</td> <td class="text-start">卫星距地表高度，影响延迟、寿命与速度</td> </tr> <tr> <td class="text-center">Minimum angle of elevation (最小仰角)</td> <td class="text-center">$e$</td> <td class="text-start">地面站可见卫星的最低仰角，权衡覆盖与信号质量</td> </tr> <tr> <td class="text-center">Phase offset (相位偏移)</td> <td class="text-center">$p$</td> <td class="text-start">相邻轨道卫星的相对位置，用于均匀分布</td> </tr> </tbody> </table> <h3 id="轨道倾角-inclination-i">轨道倾角 (Inclination, $i$)</h3> <ul> <li>定义：卫星轨道平面与地球赤道平面之间的夹角（卫星从南向北穿越赤道时测量）。</li> <li>典型值： <ul> <li>90°：极地轨道（覆盖全球，包括两极）。</li> <li>0-90°：顺行轨道（prograde），不经过极地，更多时间在低纬度地区。</li> <li>90-180°：逆行轨道（retrograde），如太阳同步轨道（Sun-synchronous orbit），每天同一地方时经过同一地点，常用于遥感。</li> </ul> </li> <li>设计考量： <ul> <li>避免赤道附近干扰：GEO卫星集中在赤道上空，因此LEO星座通常避免过低的倾角（如&lt;25°）。</li> <li>发射成本：发射场纬度限制了最小可行倾角（如SpaceX在德州Boca Chica发射，纬度≈26°N，因此倾角不能低于此值，否则需昂贵变轨）。</li> </ul> </li> </ul> <p>下图展示了5条极地轨道与五条非极地轨道。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-10-07-leo-net-arch/polar-and-inclined-orbits-480.webp 480w,/assets/img/blogs/2025-10-07-leo-net-arch/polar-and-inclined-orbits-800.webp 800w,/assets/img/blogs/2025-10-07-leo-net-arch/polar-and-inclined-orbits-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-10-07-leo-net-arch/polar-and-inclined-orbits.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> polar and inclined orbits </div> <h3 id="轨道高度-height-h">轨道高度 (Height, $h$)</h3> <ul> <li> <p>定义：卫星距地球表面的高度。</p> </li> <li> <p>低轨范围：$h$ ≤ 2,000 km（典型值：550–1,300 km）。</p> </li> <li> <p>影响：</p> <ul> <li>速度与周期：高度越低，速度越快（约27,000 km/h），轨道周期越短（约100分钟）。</li> <li>大气阻力：高度越低，大气阻力越大，需频繁轨道维持（但利于退役后快速离轨）。</li> <li>辐射环境：较低轨道可避开范艾伦辐射带，减少辐射损伤。</li> <li>监管：受FCC（美国）和ITU（国际）监管。</li> </ul> </li> </ul> <h3 id="最小仰角-minimum-elevation-angle-e">最小仰角 (Minimum Elevation Angle, $e$)</h3> <ul> <li> <p>定义：地面站能与卫星通信所需的最低仰角（相对于地平线）。</p> </li> <li> <p>作用：决定卫星对地面的覆盖范围（coverage cone）。</p> </li> <li>权衡： <ul> <li>$e$ 越小 → 覆盖范围大，可用卫星数多，但：路径损耗大（信号弱）、易受地形/建筑物遮挡、潜在干扰增加。</li> <li>$e$ 越大 → 信号质量好、干扰少，但需更多卫星保证覆盖。</li> </ul> </li> <li>实例： <ul> <li>Starlink初期用 $e$ = 25°，后期提升至 40°。</li> <li>Telesat计划用 $e$ = 10°（但可行性存疑）。</li> </ul> </li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-10-07-leo-net-arch/radius-of-coverage-480.webp 480w,/assets/img/blogs/2025-10-07-leo-net-arch/radius-of-coverage-800.webp 800w,/assets/img/blogs/2025-10-07-leo-net-arch/radius-of-coverage-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-10-07-leo-net-arch/radius-of-coverage.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> radius-of-coverage </div> <h3 id="相位偏移-phase-offset-p-or-varphi">相位偏移 (Phase Offset, $p$ or $\varphi$)</h3> <ul> <li> <p>描述相邻轨道上卫星的相对位置，需要设置合理的参数以避免碰撞。在一些研究中，也会用相位因子 $F$ 来表示，其实际含义与相位偏移相同。</p> <ul> <li>🛰️ 在低轨卫星星座中，相位偏移（phase offset）是一个介于 0 到 1 之间的无量纲参数，用于控制相邻轨道面上卫星穿越赤道时刻的相对关系。⏱️</li> <li>➤ 若为 0，则相邻轨道面的第 $n$ 颗卫星同时过赤道；</li> <li>➤ 若为 1，则第 $n$ 颗卫星与下一轨道面的第 $n+1$ 颗卫星同时过赤道。</li> <li>📐 对于含 $P$ 个轨道面的均匀星座，相位偏移必须取 $1/P$ 的整数倍（即 $F/P$，$F$ 为整数相位因子）。</li> <li>🔧 该参数不改变轨道高度或倾角，仅决定不同轨道面间卫星的“错位”程度，从而影响覆盖均匀性与碰撞风险。⚠️</li> <li>🌍 例如，Starlink 初始壳层（32 个轨道面）采用相位偏移 5/32（$F$=5），而非 0.5，以避免偶数相位因子导致的轨道交叉点近距离接近问题！✨</li> </ul> </li> <li> <p>大部分研究中设 $p$ = 0.5，使卫星在壳层（shell）中分布最均匀，最大化覆盖，避免处理复杂的相位优化，从而更专注与拓扑或路由问题的研究。</p> </li> </ul> <blockquote class="block-tip"> <p>💡 除此之外，一个卫星轨道还应该包含七个要素：包括一个历元和六个开普勒要素，但在低轨卫星网络的研究中所有的轨道均为圆形轨道，所以无需特别关注其他参数。</p> </blockquote> <h2 id="低轨卫星星座">低轨卫星星座</h2> <p>如果每颗卫星轨道参数（高度、倾角等）都不同，它们之间的相对运动将非常复杂。这种状态下星间链路（ISL）只能短暂维持，频繁切换（handoff）会导致连接中断、延迟飙升（切换可能耗时数十秒）。因此需要将卫星分组为壳层——每个壳层内所有卫星共享相同的轨道高度与轨道倾角。</p> <p>一个低轨卫星星座 $C$ 由 $s$ 个壳层（shell）构成，一个壳层由以下四个参数完全定义：</p> <table class="table table-sm table-bordered"> <thead> <tr> <th class="text-center">参数</th> <th class="text-center">符号</th> <th class="text-center">说明</th> </tr> </thead> <tbody> <tr> <td class="text-center">Number of orbits (轨道数量)</td> <td class="text-center"><em>o</em></td> <td class="text-start">一个壳层中包含的轨道面数</td> </tr> <tr> <td class="text-center">Satellites per orbit (每轨卫星数)</td> <td class="text-center"><em>n</em></td> <td class="text-start">每条轨道上均匀分布的卫星数量</td> </tr> <tr> <td class="text-center">Inclination (轨道倾角)</td> <td class="text-center"><em>i</em></td> <td class="text-start">壳层中所有轨道共用的倾角</td> </tr> <tr> <td class="text-center">Height (轨道高度)</td> <td class="text-center"><em>h</em></td> <td class="text-start">壳层中所有卫星的运行高度</td> </tr> </tbody> </table> <p>可以参考<a href="/assets/html/blogs/2025-10-07-leo-net-arch/leo_shell_example1.html" target="_blank">示例1</a>与<a href="/assets/html/blogs/2025-10-07-leo-net-arch/leo_shell_example2.html" target="_blank">示例2</a>，它们分别描述了4条轨道与32条轨道时的壳层样例。</p> <blockquote class="block-tip"> <p>💡 许多研究中使用 $o^2$ 来表示星座的大小，代表有 $o$ 条轨道，同时每条轨道上有 $n = o$ 颗卫星。这种对称设计便于仿真中控制变量，同时能直观反映星座密度对延迟和连通性的影响。</p> </blockquote> <h3 id="星座连接性-constellation-connectivity">星座连接性 (Constellation Connectivity)</h3> <p>现代低轨卫星星座的连接性建立在两类链路之上：地星链路（Ground-Satellite Links, GSL）与星间链路（Inter-Satellite Links, ISL）。</p> <p>GSL 使用射频而非激光，因其对云层和降水更具鲁棒性。每颗卫星配备多个天线，每个天线支持多个可软件定义的窄波束（如下图所示），能够动态调整方向、形状与频段分配，以最大化吞吐量。地面站类型决定其连接能力：普通用户终端通常只有一个相控阵天线，一次仅连一颗卫星；而网关或企业终端则使用多个抛物面天线，可同时连接多颗卫星以提升容量和可靠性。GSL 带宽随星地距离 $d_s$ 增大而衰减，建模为与 $h^2/d_s^2$ 成正比；只有当用户位于卫星星下点（nadir）且无其他用户共享时，才能获得满带宽。例如，Starlink 宣称其单星下行容量约为 20 Gbps。</p> <blockquote class="block-tip"> <p>💡 卫星的星下点（nadir）是指从卫星向地心方向作一条直线，该直线与地球表面相交的点，也就是卫星正下方的地表位置。在轨道力学和卫星通信中，星下点具有特殊意义：此时地面站与卫星之间的距离最短，信号路径损耗最小，通信质量最好。例如，在计算地星链路（GSL）带宽时，只有当用户终端恰好位于卫星的星下点、且该卫星波束覆盖范围内没有其他用户共享资源时，才能获得该链路的最大可用带宽。随着地面站偏离星下点，星地距离增加，路径损耗增大，可用带宽随之下降，通常建模为与 $h^2/d_s^2$ 成正比（其中 $h$ 为轨道高度，$d_s$为实际星地距离）。因此，星下点是评估卫星覆盖性能和链路质量的关键参考位置。</p> </blockquote> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-10-07-leo-net-arch/GSL-480.webp 480w,/assets/img/blogs/2025-10-07-leo-net-arch/GSL-800.webp 800w,/assets/img/blogs/2025-10-07-leo-net-arch/GSL-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-10-07-leo-net-arch/GSL.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> GSL </div> <p>相比之下，ISL 是实现低延迟端到端通信的关键。当前行业普遍采用 “+Grid” 拓扑：每颗卫星通过激光链路连接 4 个邻居——同轨道前后各 1 颗，相邻轨道各 1 颗。这种结构在卫星相对速度较低时可维持长期稳定连接，避免频繁切换。ISL 使用激光，因其波束极窄、发散小、干扰低。但其长度受物理限制：激光不能进入 80 km 以下大气层（中层大气含水汽，会散射光束），因此给定轨道高度 $h_ S$ ，可计算最大 ISL 距离。例如，Starlink S1（$h$=550 km）的最大 ISL 长度约为 5,014 km。在稀疏星座中，ISL 仅限相邻轨道；但在密集星座中，一颗卫星理论上可连接上百颗其他卫星。然而，实际部署仍受限于：</p> <ul> <li>功耗约束：更长距离需更高发射功率；</li> <li>设备重量与成本：大功率激光终端更重、更贵；</li> <li>热管理与指向精度：高速运动下维持激光对准极具挑战。</li> </ul> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-10-07-leo-net-arch/ISL-480.webp 480w,/assets/img/blogs/2025-10-07-leo-net-arch/ISL-800.webp 800w,/assets/img/blogs/2025-10-07-leo-net-arch/ISL-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-10-07-leo-net-arch/ISL.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> ISL </div> <p>因此，尽管物理可见性允许更多连接，工程现实仍使 +Grid 成为主流选择。值得注意的是，若无 ISL，星座只能采用“弯管模式”（bent-pipe）——数据数据要么通过最近的基站（连接到互联网）传输，要么经过卫星和地面站的多次转发，导致跨洲通信延迟显著增加。Starlink 已发射具备 ISL 能力的卫星，但大规模运行细节尚未公开。</p> <h3 id="系统动态性-system-dynamics">系统动态性 (System Dynamics)</h3> <p>LEO 星座的高速运动带来了显著的系统动态性。以 550 km 高度为例，卫星速度高达 27,306 km/h，约每 100 分钟绕地球一圈。这种高速导致：</p> <ul> <li>地星链路仅能维持几分钟，需频繁切换；</li> <li>ISL 长度和延迟持续变化，尤其在高纬度地区，不同轨道卫星因几何汇聚而相对速度突变；</li> <li>端到端路径所经卫星、GSL 与 ISL 距离、总延迟均随时间演化。</li> </ul> <p>这种动态性虽带来挑战，却具有高度可预测性（基于开普勒轨道力学），与地面移动网络（如蜂窝网）中用户随机移动有本质不同。更重要的是，LEO 网络的移动主体是网络核心本身——卫星即路由器，而非仅终端移动。此外，其规模远超传统移动系统：数千颗具备 Tbps 级交换能力的“飞行节点”在全球尺度上协同工作。这些特性使得 LEO 网络既不能直接套用现有协议，也为基于轨道预测的预计算路由、动态拓扑优化等新方法提供了独特机会。</p> <h3 id="干扰影响-impact-of-interference">干扰影响 (Impact of Interference)</h3> <p>尽管 LEO 星座密度高、频谱复用频繁，但现行的主流星座已部署一整套在线、软件定义的干扰抑制机制，包括：</p> <ul> <li>低轨道高度缩小波束覆盖范围；</li> <li>极窄波束（Starlink：1.0°–1.5°）减少空间重叠；</li> <li>多天线 + 多波束支持灵活频段分配；</li> <li>空间复用策略：相同频段可在角度分离 ≥10° 的区域复用；</li> <li>动态波束分裂/合并以应对负载与干扰变化；</li> <li>优先服务高仰角用户（信号强、路径损耗小）；</li> <li>在轨流量重路由避开拥塞或干扰区域。</li> </ul> <p>鉴于这些成熟且可调的缓解手段，现有的研究聚焦于拓扑结构、动态路由与端到端延迟等核心网络问题。</p> <h2 id="低轨卫星的低延迟优势与应用价值">低轨卫星的低延迟优势与应用价值</h2> <p>低轨（LEO）卫星星座不仅是一种全球覆盖的通信基础设施，更代表了一种突破现有地面光纤网络延迟瓶颈的新范式。当前互联网的高延迟部分源于光纤路径的物理限制：光在光纤中传播速度仅为真空中光速 $c$ 的约 2/3 ，且实际铺设路径受地形与经济因素制约，往往严重绕行。即便假设使用所有已知光纤并沿最短路径传输（即“f-latency”），其延迟仍显著高于理论极限（“c-latency”，即光在真空中沿大圆传播所需时间）。LEO 星座则通过近真空环境中的射频与激光链路，以接近光速 $c$ 直线传输数据，在长距离通信中展现出显著优势。仿真表明，一个中等规模的 LEO 星座（如 30²，即 900 颗卫星）在华盛顿特区至法兰克福的路径上，其端到端延迟几乎总是优于最优光纤（32.6 ms）；而更密集的星座（如 40²、50²）甚至能匹配或超越高频交易（HFT），逼近 c-latency（21.7 ms）。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-10-07-leo-net-arch/latency-example-480.webp 480w,/assets/img/blogs/2025-10-07-leo-net-arch/latency-example-800.webp 800w,/assets/img/blogs/2025-10-07-leo-net-arch/latency-example-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-10-07-leo-net-arch/latency-example.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> 华盛顿-法兰克福端到端通信延迟 </div> <blockquote class="block-tip"> <p>📊 这张图展示了不同星座大小下华盛顿特区与法兰克福之间的延迟。CDF 曲线越靠左、越陡峭，说明该网络的延迟表现越好、越稳定。<br/> 纵轴（CDF）：累积分布函数，这里表示延迟小于或等于横轴值的概率。例如，如果某条曲线在横轴 35 ms 处对应的 CDF 值是 0.8，那就意味着，在这个星座配置下，有 80% 的时间，端到端延迟都小于或等于 35 毫秒。<br/> c-latency：光在真空中沿地球表面最短路径（大圆弧）传播所需的时间，是这是理论上可能达到的最低延迟极限。<br/> f-latency：理想光纤网络能达到的最佳延迟，不考虑现实中的路由绕行或设备处理延迟。<br/> Hibernia：实际存在的、专为低延迟设计的跨大西洋海底光缆——Hibernia Express。<br/> Internet：指当前全球公共互联网的实际平均延迟。<br/> HFT：High-Frequency Trading（高频交易）行业的实际观测延迟。<br/></p> </blockquote> <p>这种低延迟并非仅是技术指标的提升，而是对现代互联网应用体验与商业价值的直接赋能。许多关键应用——如增强/虚拟现实（AR/VR）、远程手术、实时协同创作——对交互延迟极为敏感，毫秒级的改善即可决定成败。即使是看似普通的网页浏览，其用户体验也与延迟高度相关：实验表明，在带宽固定为 10 Mbps 的条件下，客户端与服务器间 RTT 每增加 10 毫秒，页面 85% 视觉内容完成加载的时间（viz85）。这一线性关系意味着，LEO 在跨洲通信中节省的数十毫秒，可转化为显著更快的页面加载速度。而商业影响更为直接：Google 发现搜索延迟增加 400 毫秒会导致用户搜索量下降 0.7%；亚马逊测算每增加 100 毫秒延迟，销售额下降约 1%。正因如此，内容分发网络（CDN）将“降低延迟”作为核心价值主张。</p> <p>综上，LEO 星座通过其独特的空间路径与近光速传播能力，不仅在物理层面提供了超越地面光纤的低延迟可能性，更在应用层面回应了互联网对极致交互体验与商业效率的迫切需求。这一“技术潜力—应用价值”的双重优势，构成了推动 LEO 网络研究与部署的核心驱动力。</p>]]></content><author><name></name></author><category term="科研"/><category term="低轨卫星网络"/><category term="无线通信"/><summary type="html"><![CDATA[本文将对低轨卫星网络架构进行简单梳理。]]></summary></entry><entry><title type="html">在云服务器上部署 RustDesk 自建服务器</title><link href="https://cresc3nt.github.io/blog/2025/rustdesk-server/" rel="alternate" type="text/html" title="在云服务器上部署 RustDesk 自建服务器"/><published>2025-10-02T10:00:00+00:00</published><updated>2025-10-02T10:00:00+00:00</updated><id>https://cresc3nt.github.io/blog/2025/rustdesk-server</id><content type="html" xml:base="https://cresc3nt.github.io/blog/2025/rustdesk-server/"><![CDATA[<h2 id="rustdesk-服务器介绍">RustDesk 服务器介绍</h2> <p>RustDesk 服务器有两个可执行程序：</p> <ul> <li><code class="language-plaintext highlighter-rouge">hbbs</code> - RustDesk ID 注册服务器，是管各个客户端 ID 的，每个客户端都有一个唯一的 ID 。</li> <li><code class="language-plaintext highlighter-rouge">hbbr</code> - RustDesk 中继服务器，是负责检测、中转各个客户端连接和数据传输。</li> </ul> <p>在部署前，请务必在保证云服务器开放了以下端口：</p> <ul> <li>TCP: 21115-21119</li> <li>UDP: 21116</li> </ul> <p>RustDesk Server 的进程占用端口情况如下：</p> <ul> <li><code class="language-plaintext highlighter-rouge">hbbs</code> - 21115(TCP), 21116(TCP/UDP), 21118(TCP)</li> <li><code class="language-plaintext highlighter-rouge">hbbr</code> - 21117(TCP), 21119(TCP)</li> </ul> <p>每个端口都有其各自的作用：</p> <ul> <li>21115(TCP) - 用作 NAT 类型测试</li> <li>21116(UDP) - 用作 ID 注册 与 心跳服务</li> <li>21116(TCP) - 用作 TCP打洞 与 连接服务</li> <li>21117(TCP) - 用作中继服务</li> <li>21118/21119(TCP) - 为了支持网页客户端</li> </ul> <blockquote class="block-tip"> <p>💡 如果启动的时候不加 <code class="language-plaintext highlighter-rouge">-k _</code> 参数，则不使用 <code class="language-plaintext highlighter-rouge">key</code> 也可以连接服务器。</p> </blockquote> <h2 id="环境配置">环境配置</h2> <p>设置时区（可选但推荐）</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="code"><pre><span class="c"># 设置时区为东八区的上海</span>
<span class="nb">sudo </span>timedatectl set-timezone Asia/Shanghai
<span class="nb">date</span> +%Z  <span class="c"># 应输出 CST</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>更新系统并安装基础依赖</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
</pre></td><td class="code"><pre><span class="nb">sudo </span>apt update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt upgrade <span class="nt">-y</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>curl htop wget unzip <span class="nt">-y</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>安装 Node.js 与 npm</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="code"><pre><span class="nb">sudo </span>apt <span class="nb">install </span>nodejs npm <span class="nt">-y</span>
node <span class="nt">-v</span>  <span class="c"># 查看 Node.js 版本</span>
npm <span class="nt">-v</span>   <span class="c"># 查看 npm 版本</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>安装 pm2</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
</pre></td><td class="code"><pre><span class="nb">sudo </span>npm <span class="nb">install</span> <span class="nt">-g</span> pm2
pm2 <span class="nt">--version</span>  <span class="c"># 查看pm2的版本</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>创建 pm2 开机启动脚本</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre>pm2 completion <span class="nb">install</span>  <span class="c"># 根据提示信息完成</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>设置 pm2 开机启动</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
</pre></td><td class="code"><pre><span class="nb">sudo env </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/usr/bin /usr/local/lib/node_modules/pm2/bin/pm2 startup systemd <span class="nt">-u</span> <span class="k">${</span><span class="nv">USER</span><span class="k">}</span> <span class="nt">--hp</span> <span class="k">${</span><span class="nv">HOME</span><span class="k">}</span>
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>pm2-<span class="k">${</span><span class="nv">USER</span><span class="k">}</span>
</pre></td></tr></tbody></table></code></pre></figure> <h2 id="安装并部署-rustdesk-server">安装并部署 RustDesk-Server</h2> <p>执行以下命令自动获取 GitHub 上 <code class="language-plaintext highlighter-rouge">rustdesk/rustdesk-server</code> 仓库的最新发布版本并下载</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="code"><pre><span class="nv">REPO</span><span class="o">=</span><span class="s2">"rustdesk/rustdesk-server"</span>
<span class="nv">latest_tag</span><span class="o">=</span><span class="si">$(</span>curl <span class="nt">-s</span> https://api.github.com/repos/<span class="nv">$REPO</span>/releases/latest | <span class="nb">grep</span> <span class="s1">'"tag_name":'</span> | <span class="nb">sed</span> <span class="nt">-E</span> <span class="s1">'s/.*"([^"]+)".*/\1/'</span><span class="si">)</span>
<span class="nb">echo</span> <span class="s2">"Using rustdesk-server version </span><span class="nv">$latest_tag</span><span class="s2">"</span>

wget https://github.com/<span class="nv">$REPO</span>/releases/download/<span class="nv">$latest_tag</span>/rustdesk-server-linux-amd64.zip
</pre></td></tr></tbody></table></code></pre></figure> <p>解压并整理文件</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="code"><pre>unzip rustdesk-server-linux-amd64.zip
<span class="nb">mv </span>amd64 ~/rustdesk-server
<span class="nb">rm</span> <span class="nt">-f</span> rustdesk-server-linux-amd64.zip
</pre></td></tr></tbody></table></code></pre></figure> <p>此时，RustDesk 的两个核心可执行文件 <code class="language-plaintext highlighter-rouge">hbbs</code> 和 <code class="language-plaintext highlighter-rouge">hbbr</code> 已位于 <code class="language-plaintext highlighter-rouge">~/rustdesk-server/</code> 目录下。</p> <p>进入 RustDesk 目录并启动两个服务</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="code"><pre><span class="nb">cd</span> ~/rustdesk-server
pm2 start hbbs <span class="nt">--</span> <span class="nt">-k</span> _
pm2 start hbbr <span class="nt">--</span> <span class="nt">-k</span> _
</pre></td></tr></tbody></table></code></pre></figure> <blockquote class="block-tip"> <p>💡 <code class="language-plaintext highlighter-rouge">-k _</code>：表示不启用密钥验证（即客户端无需填写密钥即可连接）。若需启用密钥认证，可替换 <code class="language-plaintext highlighter-rouge">_</code> 为自定义密钥，如 <code class="language-plaintext highlighter-rouge">-k mysecret123</code> 。</p> </blockquote> <p>保存 PM2 进程状态（用于开机恢复）</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre>pm2 save
</pre></td></tr></tbody></table></code></pre></figure> <p>此命令会将当前运行的进程列表保存，配合之前配置的 <code class="language-plaintext highlighter-rouge">pm2 startup</code>，确保系统重启后服务自动恢复。</p> <p>验证服务是否正常运行</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre>pm2 list
</pre></td></tr></tbody></table></code></pre></figure> <p>应看到类似如下输出</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>┌────┬──────────┬─────────────┬─────────┬─────────┬──────────┐
│ <span class="nb">id</span> │ name     │ namespace   │ version │ mode    │ status   │
├────┼──────────┼─────────────┼─────────┼─────────┼──────────┤
│ 0  │ hbbs     │ default     │ N/A     │ fork    │ online   │
│ 1  │ hbbr     │ default     │ N/A     │ fork    │ online   │
└────┴──────────┴─────────────┴─────────┴─────────┴──────────┘
</pre></td></tr></tbody></table></code></pre></div></div> <p>若状态为 <code class="language-plaintext highlighter-rouge">online</code>，说明服务已成功启动。</p> <p>此时查看 rustdesk-server 目录，可以看到生成了一些数据库文件和一个证书文件</p> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre>rustdesk-server
├── db_v2.sqlite3
├── db_v2.sqlite3-shm
├── db_v2.sqlite3-wal
├── hbbr
├── hbbs
├── id_ed25519
├── id_ed25519.pub
└── rustdesk-utils
</pre></td></tr></tbody></table></code></pre></div></div> <p>需要拷贝公钥文件 <code class="language-plaintext highlighter-rouge">id_ed25519.pub</code> 中的内容（例如<code class="language-plaintext highlighter-rouge">C6bJn7*******************50nCK3y4=</code>），用于接下来的本地配置。</p> <h2 id="客户端配置">客户端配置</h2> <p>打开 RustDesk 客户端，点击左上角 <code class="language-plaintext highlighter-rouge">ID</code> 旁边的三点图标，进入设置。</p> <p>切换到 <code class="language-plaintext highlighter-rouge">网络</code> 选项卡，点击 <code class="language-plaintext highlighter-rouge">ID/中继服务器</code> ：</p> <ul> <li>在 <code class="language-plaintext highlighter-rouge">ID 服务器</code> 字段中填写你的云服务器公网 IP 地址或域名。</li> <li>在 <code class="language-plaintext highlighter-rouge">key</code> 字段中填写刚才拷贝的公钥内容（例如 <code class="language-plaintext highlighter-rouge">C6bJn7*******************50nCK3y4</code> ）</li> </ul> <p>点击 <code class="language-plaintext highlighter-rouge">确认</code>，回到主页，等待客户端与服务端建立连接，即可完成配置。</p>]]></content><author><name></name></author><category term="工程"/><category term="RustDesk"/><category term="远程桌面"/><category term="云服务器"/><summary type="html"><![CDATA[RustDesk 作为一款开源、安全、跨平台的远程桌面软件，因其轻量、高效、无广告且支持自建服务器等特性，受到越来越多用户的青睐。自建 RustDesk 服务器不仅可以摆脱对官方服务器的依赖，还能完全掌控连接数据、提升连接速度与稳定性，尤其适合对隐私和性能有较高要求的个人或团队使用。]]></summary></entry><entry><title type="html">在云服务器上部署私有 Overleaf 服务器</title><link href="https://cresc3nt.github.io/blog/2025/overleaf-server/" rel="alternate" type="text/html" title="在云服务器上部署私有 Overleaf 服务器"/><published>2025-09-12T10:00:00+00:00</published><updated>2025-09-12T10:00:00+00:00</updated><id>https://cresc3nt.github.io/blog/2025/overleaf-server</id><content type="html" xml:base="https://cresc3nt.github.io/blog/2025/overleaf-server/"><![CDATA[<h2 id="安装-docker-与-docker-compose">安装 Docker 与 Docker Compose</h2> <p>首先更新系统</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre><span class="nb">sudo </span>apt update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt upgrade <span class="nt">-y</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>安装必要依赖</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre><span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> apt-transport-https ca-certificates curl software-properties-common
</pre></td></tr></tbody></table></code></pre></figure> <p>添加 Docker 官方 GPG 密钥</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre>curl <span class="nt">-fsSL</span> https://download.docker.com/linux/ubuntu/gpg | <span class="nb">sudo </span>gpg <span class="nt">--dearmor</span> <span class="nt">-o</span> /usr/share/keyrings/docker-archive-keyring.gpg
</pre></td></tr></tbody></table></code></pre></figure> <p>添加阿里云的 Docker APT 源（针对 Ubuntu 22.04 jammy）</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre><span class="nb">echo</span> <span class="s2">"deb [arch=</span><span class="si">$(</span>dpkg <span class="nt">--print-architecture</span><span class="si">)</span><span class="s2"> signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://mirrors.aliyun.com/docker-ce/linux/ubuntu </span><span class="si">$(</span>lsb_release <span class="nt">-cs</span><span class="si">)</span><span class="s2"> stable"</span> | <span class="nb">sudo tee</span> /etc/apt/sources.list.d/docker.list <span class="o">&gt;</span> /dev/null
</pre></td></tr></tbody></table></code></pre></figure> <p>现在 <code class="language-plaintext highlighter-rouge">$(lsb_release -cs)</code> 会自动输出 <code class="language-plaintext highlighter-rouge">jammy</code>（Ubuntu 22.04 的代号）。</p> <p>接下来更新包索引并安装 Docker</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
</pre></td><td class="code"><pre><span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install</span> <span class="nt">-y</span> docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
</pre></td></tr></tbody></table></code></pre></figure> <p>这里我们安装的是 <code class="language-plaintext highlighter-rouge">docker-compose-plugin</code>（新版），不是老版独立 <code class="language-plaintext highlighter-rouge">docker-compose</code>。它通过 <code class="language-plaintext highlighter-rouge">docker compose</code>（注意中间无横杠）命令使用，是官方推荐方式。</p> <p>将当前用户加入 docker 组</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre><span class="nb">sudo </span>usermod <span class="nt">-aG</span> docker <span class="nv">$USER</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>这个时候需要退出并重新登录 SSH 会话，才会使权限生效。</p> <p>验证安装</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre>docker run hello-world
</pre></td></tr></tbody></table></code></pre></figure> <p>看到 <code class="language-plaintext highlighter-rouge">Hello from Docker!</code> 即表示成功！</p> <h2 id="配置-docker-镜像加速器">配置 Docker 镜像加速器</h2> <p>国内服务器访问 Docker Hub 经常超时，必须配置镜像加速器。首先创建配置文件</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="code"><pre><span class="nb">sudo mkdir</span> <span class="nt">-p</span> /etc/docker

<span class="nb">sudo tee</span> /etc/docker/daemon.json <span class="o">&lt;&lt;-</span><span class="sh">'</span><span class="no">EOF</span><span class="sh">'
{
  "registry-mirrors": [
    "https://docker.1ms.run",
    "https://docker.1panel.live/"
  ]
}
EOF</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>重启 Docker</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
</pre></td><td class="code"><pre><span class="nb">sudo </span>systemctl daemon-reload
<span class="nb">sudo </span>systemctl restart docker
</pre></td></tr></tbody></table></code></pre></figure> <p>验证加速器</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre>docker info | <span class="nb">grep</span> <span class="nt">-A</span> 5 <span class="s2">"Registry Mirrors"</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>应看可以到配置的镜像地址。</p> <h2 id="部署-overleaf-toolkit">部署 Overleaf Toolkit</h2> <p>Overleaf 官方提供了 <code class="language-plaintext highlighter-rouge">overleaf/toolkit</code> 工具包，简化了部署流程。</p> <p>首先克隆仓库</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
</pre></td><td class="code"><pre>git clone git@github.com:overleaf/toolkit.git ./overleaf-toolkit
<span class="nb">cd </span>overleaf-toolkit
</pre></td></tr></tbody></table></code></pre></figure> <p>初始化配置</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre>bin/init
</pre></td></tr></tbody></table></code></pre></figure> <p>这会在 <code class="language-plaintext highlighter-rouge">config/</code> 目录下生成 <code class="language-plaintext highlighter-rouge">overleaf.rc</code>, <code class="language-plaintext highlighter-rouge">variables.env</code>, <code class="language-plaintext highlighter-rouge">version</code> 三个文件。</p> <p>修改 <code class="language-plaintext highlighter-rouge">overleaf.rc</code> 中的内容</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="code"><pre><span class="c">## 设置访问地址（必须！）</span>
<span class="nb">export </span><span class="nv">OVERLEAF_URL</span><span class="o">=</span><span class="s2">"http://&lt;your-server-ip-or-domain&gt;:&lt;your-port&gt;"</span>

<span class="c">## 监听所有 IP（必须！）</span>
<span class="nv">OVERLEAF_LISTEN_IP</span><span class="o">=</span>0.0.0.0

<span class="c">## 设置服务端口（必须！）</span>
<span class="nv">OVERLEAF_PORT</span><span class="o">=</span>&lt;your-port&gt;   <span class="c"># 需要在服务器设置中开放相应的端口</span>

<span class="c">## 设置管理员邮箱（必须！）</span>
<span class="nb">export </span><span class="nv">OVERLEAF_ADMIN_EMAIL</span><span class="o">=</span><span class="s2">"your-admin-email@example.com"</span>

<span class="c">## 关闭公开注册（可选）</span>
<span class="c"># export OVERLEAF_SIGNUPS_ENABLED=false</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>修改 <code class="language-plaintext highlighter-rouge">variables.env</code> 中的内容</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="code"><pre><span class="c">## 设置 Overleaf 实例在系统内部的应用名称（用于日志、后台管理等）</span>
<span class="nv">OVERLEAF_APP_NAME</span><span class="o">=</span><span class="s2">"Your Custom Overleaf Instance"</span>

<span class="c">## 设置用户访问该 Overleaf 实例的完整公网 URL（必须包含协议、IP/域名、端口）</span>
<span class="nv">OVERLEAF_SITE_URL</span><span class="o">=</span>http://&lt;your-server-ip-or-domain&gt;:&lt;your-port&gt;

<span class="c">## 设置网页顶部导航栏或浏览器标签页中显示的标题（用户可见的品牌标识）</span>
<span class="nv">OVERLEAF_NAV_TITLE</span><span class="o">=</span>Your Custom Overleaf Instance

<span class="c">## 设置管理员联系邮箱（用于接收系统通知、用户联系、密码重置等）</span>
<span class="nv">OVERLEAF_ADMIN_EMAIL</span><span class="o">=</span>your-admin-email@example.com

<span class="c">## （可选）自定义页面顶部 Logo 图片地址，当前注释表示使用默认样式</span>
<span class="c"># OVERLEAF_HEADER_IMAGE_URL=http://example.com/logo.png</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>修改 <code class="language-plaintext highlighter-rouge">lib/docker-compose.base.yml</code> 中的内容，将 <code class="language-plaintext highlighter-rouge">image: "${IMAGE}</code> 修改为 <code class="language-plaintext highlighter-rouge">image: "sharelatex/sharelatex:latest"</code>。</p> <p>接下来启动服务</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre>bin/up
</pre></td></tr></tbody></table></code></pre></figure> <p>现在会看到来自 docker 容器的一些日志输出，表示正在拉取镜像，后续会自动运行容器。如果在终端上按下 <code class="language-plaintext highlighter-rouge">Ctrl</code> + <code class="language-plaintext highlighter-rouge">c</code>，服务将关闭，可以通过命令 <code class="language-plaintext highlighter-rouge">bin/start</code> 来重新启动它们（不附加到日志输出）。</p> <h2 id="安装完整的-texlive">安装完整的 texlive</h2> <p>社区版使用的 texlive 是最小安装的 texlive ，需要将其升级到完整版。</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="code"><pre><span class="c"># 进入容器</span>
bin/shell
<span class="c"># 查看版本</span>
tlmgr <span class="nt">--version</span>
<span class="c"># 更换镜像源，我用腾讯云的镜像</span>
tlmgr option repository http://mirrors.cloud.tencent.com/CTAN/systems/texlive/tlnet
<span class="c"># 查看</span>
tlmgr option show repository

<span class="c"># 在你选择的镜像站里，找到升级脚本</span>
<span class="nb">cd</span> ~
wget http://mirrors.cloud.tencent.com/CTAN/systems/texlive/tlnet/update-tlmgr-latest.sh

<span class="nb">chmod</span> +x update-tlmgr-latest.sh
./update update-tlmgr-latest.sh

<span class="c"># 更新</span>
tlmgr update <span class="nt">--self</span> <span class="nt">--all</span> 

<span class="c"># 安装完整的包，要花挺长一段时间，尽量选速度快的源</span>
tlmgr <span class="nb">install </span>scheme-full

<span class="c"># 重启容器</span>
bin/stop 
bin/start
</pre></td></tr></tbody></table></code></pre></figure> <h2 id="安装中文字体">安装中文字体</h2> <p>将本地的中文字体复制到服务器，Windows 系统的的字体储存在 <code class="language-plaintext highlighter-rouge">C:\windows\Fonts</code> 目录，将其复制到服务器的 <code class="language-plaintext highlighter-rouge">/root/Fonts</code> 目录后，在服务器内完成安装</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td><td class="code"><pre><span class="c"># 进入Fonts目录</span>
<span class="nb">cd </span>Fonts/

<span class="c"># 删除其中的.fon字体文件(否则可能会报错)</span>
<span class="nb">rm</span> <span class="nt">-r</span> <span class="k">*</span>.fon

<span class="c"># 返回上层目录并打包</span>
<span class="nb">cd</span> ..
<span class="nb">tar</span> <span class="nt">-zcvf</span> winfonts.tar.gz Fonts/

<span class="c"># 把压缩文件传到sharelatex容器的root目录下</span>
docker <span class="nb">cp </span>winfonts.tar.gz sharelatex:/root

<span class="c"># 进入容器的命令行界面</span>
docker <span class="nb">exec</span> <span class="nt">-it</span> sharelatex bash

<span class="c"># 在容器内更新软件包列表</span>
apt-get update

<span class="c"># 通过安装wqy字体同时安装xfont工具</span>
apt-get <span class="nb">install </span>xfonts-wqy

<span class="c"># 进入root目录，解压winfonts.tar.gz，并移动到系统字体目录下</span>
<span class="nb">cd</span> ~
<span class="nb">tar</span> <span class="nt">-zxvf</span> winfonts.tar.gz
<span class="nb">mv </span>Fonts /usr/share/fonts/

<span class="c"># 进入字体目录安装字体</span>
<span class="nb">cd</span> /usr/share/fonts/Fonts
mkfontscale
mkfontdir
fc-cache <span class="nt">-fv</span>

<span class="c"># 检查确认中文字体安装成功</span>
fc-list :lang<span class="o">=</span>zh-cn
<span class="c"># 此时会出现已经安装的中文字体</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>重启服务</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
</pre></td><td class="code"><pre>bin/stop
bin/up
</pre></td></tr></tbody></table></code></pre></figure> <h2 id="清除原有镜像与容器">清除原有镜像与容器</h2> <p>有时，我们会不小心安装错误的镜像，这个时候我们需要确保旧的、错误的镜像和容器被完全清除。</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre></td><td class="code"><pre><span class="c"># 停止当前所有服务</span>
<span class="nb">cd</span> ~/overleaf-toolkit
bin/stop

<span class="c"># 列出所有与项目相关的容器</span>
<span class="c"># 通常容器名会包含 "overleaf" 或 "sharelatex"</span>
docker ps <span class="nt">-a</span> <span class="nt">--filter</span> <span class="s2">"name=overleaf"</span> <span class="nt">--filter</span> <span class="s2">"name=sharelatex"</span>

<span class="c"># 强制删除所有列出的相关容器</span>
<span class="c"># 请将 &lt;CONTAINER_ID_OR_NAME&gt; 替换为上一步命令中列出的实际容器ID或名称</span>
docker <span class="nb">rm</span> <span class="nt">-f</span> &lt;CONTAINER_ID_OR_NAME_1&gt; &lt;CONTAINER_ID_OR_NAME_2&gt;

<span class="c"># 列出所有本地镜像，查找非官方的或可疑的镜像</span>
docker images | <span class="nb">grep</span> <span class="nt">-E</span> <span class="s2">"(sharelatex|overleaf)"</span>

<span class="c"># 删除非官方的自定义镜像</span>
<span class="c"># 请将 &lt;CUSTOM_IMAGE_NAME:TAG&gt; 替换为上一步中找到的、非 "sharelatex/sharelatex:latest" 的镜像</span>
docker rmi &lt;CUSTOM_IMAGE_NAME:TAG&gt;

<span class="c"># （可选）清理所有无用的Docker对象，获得一个纯净的环境</span>
docker system prune <span class="nt">-a</span>
<span class="c"># 系统会提示确认，输入 'y' 并回车。</span>
<span class="c"># 注意：此命令会删除所有未被容器使用的镜像、网络、构建缓存等。</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>之后便可以启动服务</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre>bin/up
</pre></td></tr></tbody></table></code></pre></figure> <h2 id="登录">登录</h2> <p>首先访问 <code class="language-plaintext highlighter-rouge">http://&lt;your-server-ip-or-domain&gt;:&lt;your-port&gt;/launchpad</code> 创建管理员，之后便可以访问 <code class="language-plaintext highlighter-rouge">http://&lt;your-server-ip-or-domain&gt;:&lt;your-port&gt;/login</code> 登录用户。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-09-12-overleaf-server/login-480.webp 480w,/assets/img/blogs/2025-09-12-overleaf-server/login-800.webp 800w,/assets/img/blogs/2025-09-12-overleaf-server/login-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-09-12-overleaf-server/login.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> 登录界面 </div> <h2 id="添加账户">添加账户</h2> <p>在管理员账户主页，点击 <code class="language-plaintext highlighter-rouge">admin - Manage Users</code> 即可添加账户。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-09-12-overleaf-server/add-users-480.webp 480w,/assets/img/blogs/2025-09-12-overleaf-server/add-users-800.webp 800w,/assets/img/blogs/2025-09-12-overleaf-server/add-users-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-09-12-overleaf-server/add-users.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> 管理员添加账户 </div> <p>在输入要添加账户的邮箱后，会为新账户生成一个设置密码链接，访问该链接设置密码即可完成新账户的注册。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-09-12-overleaf-server/register-480.webp 480w,/assets/img/blogs/2025-09-12-overleaf-server/register-800.webp 800w,/assets/img/blogs/2025-09-12-overleaf-server/register-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-09-12-overleaf-server/register.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> 设置密码链接 </div> <p>接下来，就可以愉快地使用 overleaf 啦。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-09-12-overleaf-server/example-480.webp 480w,/assets/img/blogs/2025-09-12-overleaf-server/example-800.webp 800w,/assets/img/blogs/2025-09-12-overleaf-server/example-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-09-12-overleaf-server/example.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> 使用示例 </div> <h2 id="vs-codecursor--overleaf">VS Code/Cursor + Overleaf</h2> <p>在 VS Code 扩展中搜索插件 <a href="https://github.com/iamhyc/Overleaf-Workshop">Overleaf Workshop</a> ，点击安装。</p> <p>安装成功后，可以在左侧导航栏看到 Overleaf 的 logo。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-09-12-overleaf-server/overleaf-plungin-480.webp 480w,/assets/img/blogs/2025-09-12-overleaf-server/overleaf-plungin-800.webp 800w,/assets/img/blogs/2025-09-12-overleaf-server/overleaf-plungin-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-09-12-overleaf-server/overleaf-plungin.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> Overleaf 插件 </div> <p>点击图中所示的加号，将部署的 Overleaf 服务器地址 <code class="language-plaintext highlighter-rouge">http://&lt;your-server-ip-or-domain&gt;:&lt;your-port&gt;</code> 填进框中。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-09-12-overleaf-server/input-url-480.webp 480w,/assets/img/blogs/2025-09-12-overleaf-server/input-url-800.webp 800w,/assets/img/blogs/2025-09-12-overleaf-server/input-url-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-09-12-overleaf-server/input-url.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> 输入 Overleaf 服务器地址 </div> <p>在左侧可以进行登录。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-09-12-overleaf-server/sign-in-480.webp 480w,/assets/img/blogs/2025-09-12-overleaf-server/sign-in-800.webp 800w,/assets/img/blogs/2025-09-12-overleaf-server/sign-in-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-09-12-overleaf-server/sign-in.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> 登录账户 </div> <p>点击 <code class="language-plaintext highlighter-rouge">Login with Password</code>，根据提示输入账号密码。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-09-12-overleaf-server/input-password-480.webp 480w,/assets/img/blogs/2025-09-12-overleaf-server/input-password-800.webp 800w,/assets/img/blogs/2025-09-12-overleaf-server/input-password-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-09-12-overleaf-server/input-password.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> 输入账号密码 </div> <p>点击图中的按钮，便可以使用 VS Code 编辑 LaTeX 项目了。</p> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-09-12-overleaf-server/open-project-480.webp 480w,/assets/img/blogs/2025-09-12-overleaf-server/open-project-800.webp 800w,/assets/img/blogs/2025-09-12-overleaf-server/open-project-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-09-12-overleaf-server/open-project.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> 打开项目 </div> <div class="row mt-3"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogs/2025-09-12-overleaf-server/edit-project-480.webp 480w,/assets/img/blogs/2025-09-12-overleaf-server/edit-project-800.webp 800w,/assets/img/blogs/2025-09-12-overleaf-server/edit-project-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/blogs/2025-09-12-overleaf-server/edit-project.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </div> </div> <div class="caption"> 编辑项目 </div> <p>在 Cursor 中，我并没有在插件市场搜索到 Overleaf Workshop 插件，这时可以通过手动安装 VSIX 文件的方式来解决这个问题。</p> <p>在 VSCode 中，右键点击已安装的插件 → <code class="language-plaintext highlighter-rouge">Export Extension</code>。在 Cursor 中，按 <code class="language-plaintext highlighter-rouge">Ctrl</code>+<code class="language-plaintext highlighter-rouge">Shift</code>+<code class="language-plaintext highlighter-rouge">P</code> 打开命令面板，输入 <code class="language-plaintext highlighter-rouge">Install from VSIX</code>，选择下载的 <code class="language-plaintext highlighter-rouge">.vsix</code> 文件。安装完成后，重启 Cursor 即可使用。</p> <h2 id="总结">总结</h2> <p>本文提供了一套在国内网络环境下可复用、可维护且体验流畅的 Overleaf 私有部署方案。</p>]]></content><author><name></name></author><category term="工程"/><category term="LaTeX"/><category term="Overleaf"/><category term="云服务器"/><summary type="html"><![CDATA[Overleaf 是全球最受欢迎的在线 LaTeX 编辑平台，但免费版的官方服务会限制编译时间，且项目私密性无法完全保证。本文推荐在自己的云服务器上部署私有 Overleaf 以获得更好的体验。]]></summary></entry><entry><title type="html">GitHub Commits 提交规范</title><link href="https://cresc3nt.github.io/blog/2025/git-commit/" rel="alternate" type="text/html" title="GitHub Commits 提交规范"/><published>2025-09-12T10:00:00+00:00</published><updated>2025-09-12T10:00:00+00:00</updated><id>https://cresc3nt.github.io/blog/2025/git-commit</id><content type="html" xml:base="https://cresc3nt.github.io/blog/2025/git-commit/"><![CDATA[<h2 id="基本格式">基本格式</h2> <p>Conventional Commits 的基本格式如下：</p> <figure class="highlight"><pre><code class="language-bash" data-lang="bash"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="code"><pre>&lt;<span class="nb">type</span><span class="o">&gt;[</span>optional scope]: &lt;description&gt;
<span class="o">[</span>optional body]
<span class="o">[</span>optional footer<span class="o">(</span>s<span class="o">)]</span>
</pre></td></tr></tbody></table></code></pre></figure> <p>其中 <code class="language-plaintext highlighter-rouge">&lt;type&gt;</code> 表示提交类型（必填），也决定了它在 changelog 中的分类，通常有以下几种：</p> <ul> <li><code class="language-plaintext highlighter-rouge">feat</code>: 新功能；</li> <li><code class="language-plaintext highlighter-rouge">fix</code>: 修复 bug；</li> <li><code class="language-plaintext highlighter-rouge">docs</code>: 仅修改文档；</li> <li><code class="language-plaintext highlighter-rouge">style</code>: 不影响代码逻辑的修改，比如格式、空格、缩进、缺失的分号；</li> <li><code class="language-plaintext highlighter-rouge">refactor</code>: 代码重构（不包含功能变更或 bug 修复）；</li> <li><code class="language-plaintext highlighter-rouge">perf</code>: 性能优化；</li> <li><code class="language-plaintext highlighter-rouge">test</code>: 添加测试或修改测试；</li> <li><code class="language-plaintext highlighter-rouge">build</code>: 构建系统或依赖的变动（例如 webpack、rollup）</li> <li><code class="language-plaintext highlighter-rouge">chore</code>: 杂项、不属于其他类型的更改（比如改 .gitignore、更新依赖）；</li> <li><code class="language-plaintext highlighter-rouge">ci</code>: 持续集成相关（GitHub Actions、Travis CI、Circle 等）；</li> <li><code class="language-plaintext highlighter-rouge">revert</code>: 回滚某个提交（会自动生成 footer）。</li> </ul> <p>更多内容请见 <a href="https://www.conventionalcommits.org/en/v1.0.0/">Conventional Commits</a> 。</p>]]></content><author><name></name></author><category term="工程"/><category term="Git"/><category term="Conventional Commits"/><summary type="html"><![CDATA[Conventional Commits 是一种规范化的 git 提交信息格式，遵循规范可以有效提升 commit message 的可读性，也方便历史记录和版本控制。]]></summary></entry><entry><title type="html">带有Plotly.js的文章</title><link href="https://cresc3nt.github.io/blog/2025/plotly/" rel="alternate" type="text/html" title="带有Plotly.js的文章"/><published>2025-03-26T14:24:00+00:00</published><updated>2025-03-26T14:24:00+00:00</updated><id>https://cresc3nt.github.io/blog/2025/plotly</id><content type="html" xml:base="https://cresc3nt.github.io/blog/2025/plotly/"><![CDATA[<p>这是一篇包含一些<a href="https://plotly.com/javascript/">Plotly</a>代码的示例文章。</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="p">```</span><span class="nl">plotly
</span><span class="sb">{
  "data": [
    {
      "x": [1, 2, 3, 4],
      "y": [10, 15, 13, 17],
      "type": "scatter"
    },
    {
      "x": [1, 2, 3, 4],
      "y": [16, 5, 11, 9],
      "type": "scatter"
    }
  ]
}</span>
<span class="p">```</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>效果如下：</p> <pre><code class="language-plotly">{
  "data": [
    {
      "x": [1, 2, 3, 4],
      "y": [10, 15, 13, 17],
      "type": "scatter"
    },
    {
      "x": [1, 2, 3, 4],
      "y": [16, 5, 11, 9],
      "type": "scatter"
    }
  ]
}
</code></pre> <p>另一个图表示例：</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="p">```</span><span class="nl">plotly
</span><span class="sb">{
  "data": [
    {
      "x": [1, 2, 3, 4],
      "y": [10, 15, 13, 17],
      "mode": "markers"
    },
    {
      "x": [2, 3, 4, 5],
      "y": [16, 5, 11, 9],
      "mode": "lines"
    },
    {
      "x": [1, 2, 3, 4],
      "y": [12, 9, 15, 12],
      "mode": "lines+markers"
    }
  ],
  "layout": {
    "title": {
      "text": "折线图与散点图组合"
    }
  }
}</span>
<span class="p">```</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>效果如下：</p> <pre><code class="language-plotly">{
  "data": [
    {
      "x": [1, 2, 3, 4],
      "y": [10, 15, 13, 17],
      "mode": "markers"
    },
    {
      "x": [2, 3, 4, 5],
      "y": [16, 5, 11, 9],
      "mode": "lines"
    },
    {
      "x": [1, 2, 3, 4],
      "y": [12, 9, 15, 12],
      "mode": "lines+markers"
    }
  ],
  "layout": {
    "title": {
      "text": "折线图与散点图组合"
    }
  }
}
</code></pre>]]></content><author><name></name></author><category term="示例文章"/><category term="格式化"/><category term="图表"/><summary type="html"><![CDATA[这是包含Plotly.js代码的样子]]></summary></entry><entry><title type="html">带有图片画廊的文章</title><link href="https://cresc3nt.github.io/blog/2024/photo-gallery/" rel="alternate" type="text/html" title="带有图片画廊的文章"/><published>2024-12-04T01:59:00+00:00</published><updated>2024-12-04T01:59:00+00:00</updated><id>https://cresc3nt.github.io/blog/2024/photo-gallery</id><content type="html" xml:base="https://cresc3nt.github.io/blog/2024/photo-gallery/"><![CDATA[<p>这篇文章中的图片都是可缩放的，使用不同的库排列成不同的迷你画廊。</p> <h2 id="lightbox2"><a href="https://lokeshdhakar.com/projects/lightbox2/">Lightbox2</a></h2> <p><a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-2500.jpg" data-lightbox="roadtrip"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-200.jpg"/></a> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-2500.jpg" data-lightbox="roadtrip"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-200.jpg"/></a> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-2500.jpg" data-lightbox="roadtrip"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-200.jpg"/></a></p> <hr/> <h2 id="photoswipe"><a href="https://photoswipe.com/">PhotoSwipe</a></h2> <div class="pswp-gallery pswp-gallery--single-column" id="gallery--getting-started"> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-2500.jpg" data-pswp-width="1669" data-pswp-height="2500" target="_blank"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-200.jpg" alt=""/> </a> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/7/img-2500.jpg" data-pswp-width="1875" data-pswp-height="2500" data-cropped="true" target="_blank"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/7/img-200.jpg" alt=""/> </a> <a href="https://unsplash.com" data-pswp-src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-2500.jpg" data-pswp-width="2500" data-pswp-height="1666" target="_blank"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-200.jpg" alt=""/> </a> <div> <a href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/6/img-2500.jpg" data-pswp-width="2500" data-pswp-height="1667" target="_blank"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/6/img-200.jpg" alt=""/> </a> </div> </div> <hr/> <h2 id="spotlight-js"><a href="https://nextapps-de.github.io/spotlight/">Spotlight JS</a></h2> <div class="spotlight-group"> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-200.jpg"/> </a> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-200.jpg"/> </a> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-200.jpg"/> </a> </div> <div class="spotlight-group"> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/4/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/4/img-200.jpg"/> </a> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/5/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/5/img-200.jpg"/> </a> <a class="spotlight" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/6/img-2500.jpg"> <img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/6/img-200.jpg"/> </a> </div> <hr/> <h2 id="venobox"><a href="https://veno.es/venobox/">Venobox</a></h2> <p><a class="venobox" data-gall="myGallery" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-2500.jpg"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/1/img-200.jpg"/></a> <a class="venobox" data-gall="myGallery" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-2500.jpg"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/2/img-200.jpg"/></a> <a class="venobox" data-gall="myGallery" href="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-2500.jpg"><img src="https://cdn.photoswipe.com/photoswipe-demo-images/photos/3/img-200.jpg"/></a></p>]]></content><author><name></name></author><category term="示例文章"/><category term="格式化"/><category term="图片"/><summary type="html"><![CDATA[这是包含图片画廊的样子]]></summary></entry><entry><title type="html">带有标签页的文章</title><link href="https://cresc3nt.github.io/blog/2024/tabs/" rel="alternate" type="text/html" title="带有标签页的文章"/><published>2024-05-01T00:32:13+00:00</published><updated>2024-05-01T00:32:13+00:00</updated><id>https://cresc3nt.github.io/blog/2024/tabs</id><content type="html" xml:base="https://cresc3nt.github.io/blog/2024/tabs/"><![CDATA[<p>这就是带有<a href="https://github.com/Ovski4/jekyll-tabs">标签页</a>的文章的样子。请注意，标签页可以用于不同的目的，不仅仅是代码。</p> <h2 id="第一组标签页">第一组标签页</h2> <p>要添加标签页，请使用以下语法：</p> <div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="cp">{%</span><span class="w"> </span><span class="nt">tabs</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">tab</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="nv">tab-name-1</span><span class="w"> </span><span class="cp">%}</span>

内容 1

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtab</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">tab</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="nv">tab-name-2</span><span class="w"> </span><span class="cp">%}</span>

内容 2

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtab</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtabs</span><span class="w"> </span><span class="cp">%}</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>通过这种方式，你可以生成如下效果：</p> <ul id="log" class="tab" data-tab="91b536c7-1200-442d-a026-257a585e49bd" data-name="log"> <li class="active" id="log-php"> <a href="#">php </a> </li> <li id="log-js"> <a href="#">js </a> </li> <li id="log-ruby"> <a href="#">ruby </a> </li> </ul> <ul class="tab-content" id="91b536c7-1200-442d-a026-257a585e49bd" data-name="log"> <li class="active"> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">var_dump</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">hello</span><span class="dl">"</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nx">pputs</span> <span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span>
</pre></td></tr></tbody></table></code></pre></div></div> </li> </ul> <h2 id="另一个示例">另一个示例</h2> <ul id="data-struct" class="tab" data-tab="ddeea34b-3408-48f1-b60b-19169f4509b2" data-name="data-struct"> <li class="active" id="data-struct-yaml"> <a href="#">yaml </a> </li> <li id="data-struct-json"> <a href="#">json </a> </li> </ul> <ul class="tab-content" id="ddeea34b-3408-48f1-b60b-19169f4509b2" data-name="data-struct"> <li class="active"> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="na">hello</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">whatsup"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">hi"</span>
</pre></td></tr></tbody></table></code></pre></div></div> </li> <li> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"hello"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"whatsup"</span><span class="p">,</span><span class="w"> </span><span class="s2">"hi"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div> </li> </ul> <h2 id="用于其他内容的标签页">用于其他内容的标签页</h2> <ul id="something-else" class="tab" data-tab="83b6397e-76bc-4e9d-bc90-55de99dcba9d" data-name="something-else"> <li class="active" id="something-else-text"> <a href="#">text </a> </li> <li id="something-else-quote"> <a href="#">quote </a> </li> <li id="something-else-list"> <a href="#">list </a> </li> </ul> <ul class="tab-content" id="83b6397e-76bc-4e9d-bc90-55de99dcba9d" data-name="something-else"> <li class="active"> <p>普通文本</p> </li> <li> <blockquote> <p>一段引文</p> </blockquote> </li> <li> <p>文艺青年清单</p> <ul> <li>早午餐</li> <li>复古单车</li> <li>雷朋墨镜</li> <li>邮差包</li> </ul> </li> </ul>]]></content><author><name></name></author><category term="示例文章"/><category term="格式化"/><category term="代码"/><summary type="html"><![CDATA[这是在文章中包含标签页的样子]]></summary></entry><entry><title type="html">带有Typograms的文章</title><link href="https://cresc3nt.github.io/blog/2024/typograms/" rel="alternate" type="text/html" title="带有Typograms的文章"/><published>2024-04-29T23:36:10+00:00</published><updated>2024-04-29T23:36:10+00:00</updated><id>https://cresc3nt.github.io/blog/2024/typograms</id><content type="html" xml:base="https://cresc3nt.github.io/blog/2024/typograms/"><![CDATA[<p>这是一篇包含一些<a href="https://github.com/google/typograms/">Typograms</a>代码的示例文章。</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="p">```</span><span class="nl">typograms
</span><span class="sb">+----+
|    |---&gt; 我的第一个图表！
+----+</span>
<span class="p">```</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>效果如下</p> <pre><code class="language-typograms">+----+
|    |---&gt; 我的第一个图表！
+----+
</code></pre> <p>另一个示例：</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="p">```</span><span class="nl">typograms
</span><span class="sb">.------------------------.
|.----------------------.|
||"https://example.com" ||
|'----------------------'|
| ______________________ |
||                      ||
||   欢迎！             ||
||                      ||
||                      ||
||  .----------------.  ||
||  | 用户名         |  ||
||  '----------------'  ||
||  .----------------.  ||
||  |"*******"       |  ||
||  '----------------'  ||
||                      ||
||  .----------------.  ||
||  |   "注册"       |  ||
||  '----------------'  ||
||                      ||
|+----------------------+|
.------------------------.</span>
<span class="p">```</span>
</pre></td></tr></tbody></table></code></pre></div></div> <p>生成效果如下：</p> <pre><code class="language-typograms">.------------------------.
|.----------------------.|
||"https://example.com" ||
|'----------------------'|
| ______________________ |
||                      ||
||   欢迎！             ||
||                      ||
||                      ||
||  .----------------.  ||
||  | 用户名         |  ||
||  '----------------'  ||
||  .----------------.  ||
||  |"*******"       |  ||
||  '----------------'  ||
||                      ||
||  .----------------.  ||
||  |   "注册"       |  ||
||  '----------------'  ||
||                      ||
|+----------------------+|
.------------------------.
</code></pre> <p>更多示例，请参阅 <a href="https://google.github.io/typograms/#examples">typograms 文档</a>。</p>]]></content><author><name></name></author><category term="示例文章"/><category term="格式化"/><category term="图表"/><summary type="html"><![CDATA[这是包含Typograms代码的样子]]></summary></entry></feed>