---
layout: distill                               # distill 风格，便于引入参考文献
title: "低轨卫星网络物联网相关论文簇"
date: 2025-11-06  10:00:00
description: 本文整理了截至 2025 年，低轨卫星网络中DTC方向的代表性论文。
tags:
  - 低轨卫星网络
  - DTC
categories:
  - 科研

toc:
  - name: "A Case for Stateless Mobile Core Network Functions in Space"
    subsections:
      - name: "1-1 摘要"
      - name: "1-2 问题背景"
      - name: "1-3 核心思想"
      - name: "1-4 解决方案"
      - name: "1-5 实验设备"
      - name: "1-6 贡献总结"
  - name: "SateRIoT: High-performance Ground-Space Networking for Rural IoT"
    subsections:
      - name: "2-1 摘要"
      - name: "2-2 问题背景"
      - name: "2-3 核心思想"
      - name: "2-4 解决方案"
      - name: "2-5 实验设备"
      - name: "2-6 贡献总结"
  - name: "CosMAC: Constellation-Aware Medium Access and Scheduling for IoT Satellites"
    subsections:
      - name: "2-1 摘要"
      - name: "2-2 问题背景"
      - name: "2-3 核心思想"
      - name: "2-4 解决方案"
      - name: "2-5 实验设备"
      - name: "2-6 贡献总结"
  - name: "B2LoRa: Boosting LoRa Transmission for Satellite-IoT Systems with Blind Coherent Combining"
    subsections:
      - name: "4-1 摘要"
      - name: "4-2 问题背景"
      - name: "4-3 核心思想"
      - name: "4-4 解决方案"
      - name: "4-5 实验设备"
      - name: "4-6 贡献总结"

bibliography: blogs/2025-11-06-leo-dtc.bib    # 启用参考文献

pretty_table: true                            # 启用美化表格功能（通常用于加载 Bootstrap Table 等表格样式或脚本）
---

## A Case for Stateless Mobile Core Network Functions in Space

**面向太空的无状态移动核心网功能方案探讨<d-cite key="10.1145/3544216.3544233"></d-cite> (SIGCOMM 2022)**

### 1-1 摘要

将移动核心网功能部署到低轨（LEO）卫星巨型星座中是否值得且可行？尽管这一范式已在太空中进行测试，并有望带来新的价值，但根据作者对在轨卫星和5G实测数据集的研究，它也引发了可扩展性、性能和安全性方面的担忧。一个主要挑战在于当前的有状态移动核心网：在卫星极端移动性、外太空间歇性故障以及不可避免地暴露于不可信的境外位置时，容易引发信令风暴、服务中断和安全攻击。为此，本文提出在太空中采用无状态移动核心网的方案。作者的解决方案 SpaceCore 将状态与轨道上的核心网功能解耦，通过地理空间寻址简化位置状态，通过将服务区域转换为地理空间服务区域来消除卫星移动过程中的不必要状态迁移，并利用终端设备作为状态存储库实现本地化状态检索。基于在轨卫星和5G实测数据集的评估表明，SpaceCore 相比现有方案可减少高达 17.5 倍的信令开销，并显著提升对故障和攻击的弹性。

### 1-2 问题背景

当前移动通信系统（如 5G）的核心网是有状态的（stateful），即网络必须为每个用户设备（User Equipment, UE）维护一系列状态信息（如位置、会话、安全密钥、QoS 策略等）。当这些有状态的核心网功能被部署到低轨（LEO）卫星巨型星座中时，会面临三大根本性挑战：

1. 信令风暴（Signaling Storms）

    > 📢 信令（Signaling）是通信网络中用于建立、维护、管理和释放通信连接的控制信息，而不是用于传输用户实际数据（如语音、视频、网页内容）的部分。
    {: .block-tip}

    - LEO 卫星高速移动（约 7.6 km/s），导致即使静止用户也会频繁触发位置更新（每约 165.8 秒一次），引发大量冗余信令。
    - 卫星数量庞大，每颗卫星需处理上万用户的信令，造成控制面过载。

2. 服务中断与可靠性问题（Failures）
    - 太空环境中存在辐射、链路中断、激光对准失败等问题，卫星故障率较高（如 Starlink 约 3%）。
    - 有状态设计要求状态迁移必须成功，否则服务中断。

3. 安全风险（Security Attacks）
    - 星在全球范围暴露于不可信区域，易受劫持、窃听、干扰等攻击。
    - 敏感状态（如认证向量、密钥）若存储在卫星上，一旦被攻破将大规模泄露。

这些问题使得直接将现有有状态 5G 核心网部署到 LEO 卫星上不可行。

### 1-3 核心思想

作者提出：在太空中应采用无状态（stateless）的移动核心网设计。

其核心洞察是：

**用户设备（UE）本身天然构成了一个分布式、本地化、高可用的状态存储库。**<br>
在初始注册后，UE 已拥有完整会话状态副本，可被轨道上的任意卫星直接读取，无需依赖远程地面核心或在卫星间迁移状态。 

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" path="assets/img/blogs/2025-11-06-leo-dtc/SpaceCore.png" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>
<div class="caption">
    SpaceCore 架构
</div>

由此，SpaceCore 通过“状态–功能解耦”实现：

- **状态不上星**：敏感和会话状态不存储在卫星上；
- **状态本地化**：由 UE 保管，仅在需要时临时提供；
- **服务区域地理化**：用地理坐标（而非逻辑节点 ID）定义服务区域，避免因卫星移动触发不必要的状态更新。

### 1-4 解决方案

SpaceCore 通过以下四项关键技术重构 LEO 卫星核心网：

1. 地理空间服务区域（Geospatial Service Areas）
    - 将传统“小区/跟踪区”从逻辑节点绑定（如某颗卫星）转为**地理网格划分**（基于轨道参数定义的 $(\alpha, \gamma)$ 坐标系）。
    - 用户位置状态用其所在地理网格标识，**不随卫星切换而变化**，避免静止用户频繁注册。
2. 状态与功能解耦（State-Function Decoupling）
    - 卫星只运行**无状态**的数据面和控制面代理（如 UPF、AMF 代理）。
    - 所需会话状态（认证、QoS、IP、计费等）在会话建立时由 UE 通过 RRC 消息携带（piggyback），卫星临时解密使用，用完即弃。
3. 设备作为状态仓库（Device-as-the-Repository）
    - 初始注册时，地面核心网将加密后的完整状态下发给 UE（类似 SIM 卡预置）。
    - 后续会话建立/切换时，UE 主动提供状态副本，卫星验证后使用，无需回源查询。
4. 基于地理坐标的无状态中继（Stateless Geospatial Relaying）
    - 数据包转发不再依赖固定锚点网关，而是通过**卫星间链路**（ISL）基于目的 UE 的地理坐标进行路由（类似 DHT）。
    - 使用网格拓扑的 $(\alpha, \gamma)$ 坐标选择下一跳，确保高效、无状态的数据传输。

安全保障：
- 采用基于属性的加密（ABE），由地面核心控制哪些卫星/UE 可解密状态。
- 状态包含 TTL 和版本号，防止重放和长期泄露。

在 SpaceCore 架构中，Terrestrial home network（地面归属网络）扮演着核心信任锚点（root of trust）和中央协调者的角色，其作用至关重要且具有多重功能。

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th class="text-center">功能维度</th>
      <th class="text-center">作用</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="text-center">**安全**</td>
      <td class="text-start">信任根、密钥分发、访问控制策略制定</td>
    </tr>
    <tr>
      <td class="text-center">**状态管理**</td>
      <td class="text-start">唯一合法状态源，控制状态更新</td>
    </tr>
    <tr>
      <td class="text-center">**策略控制**</td>
      <td class="text-start">QoS、计费、漫游策略的权威执行者</td>
    </tr>
    <tr>
      <td class="text-center">**网络融合**</td>
      <td class="text-start">协调空–地接入、支持无缝切换、兼容 5G 标准</td>
    </tr>
  </tbody>
</table>

### 1-5 实验设备

1. 原型实现（Prototype）
    - 卫星侧：在两种商用硬件上部署 SpaceCore：
        - Raspberry Pi 4（与 Baoyun 5G LEO 卫星相同）；
        - Dell Precision 7920 工作站（20 核 Xeon，模拟高性能卫星）。
    - UE 侧：使用 UERANSIM（开源 5G UE 仿真器）模拟终端行为。
    - 地面核心网：基于 open5gs（开源 5G 核心网栈）部署。
    - 加密库：OpenABE 实现属性基加密。
2. 数据集（Datasets）
    - 收集来自真实运行卫星终端（Inmarsat Explorer 710、Tiantong SC310/T900）的信令日志；
    - 收集中国三大运营商（移动、联通、电信）的 5G 实测信令（通过 MobileInsight 工具）；
    - 总计包含数百万条 RRC、MM、SM 层信令。
3. 仿真环境（Emulation）
    - 基于 真实 LEO 星座轨道参数（Starlink、OneWeb、Kuiper、Iridium，数据来自 Space-Track.org）；
    - 模拟全球用户分布（World Bank 统计）；
    - 采用标准网格卫星拓扑（含星间链路）；
    - 对比方案包括：
        - 5G NTN（3GPP 标准透明转发）；
        - SkyCore（UAV 有状态预缓存方案）；
        - Baoyun（国内首颗 5G 核心网卫星）；
        - DPCM（设备侧状态加速方案）。
4. 评估指标
    - 信令开销（signaling/s per satellite & ground station）；
    - CPU 利用率（卫星负载）；
    - 会话/注册延迟；
    - 状态泄露量（在卫星劫持、中间人攻击场景下）；
    - 用户级性能（TCP/ping 中断时间）。

### 1-6 贡献总结

这篇作，在将移动核心网推向低轨卫星巨型星座的背景下，首次系统性地揭示了有状态（stateful）所引发的三大根本性挑战，并提出了一种创新的无状态卫星核心网架构 SpaceCore。其核心贡献可总结为以下四个方面：

**1. 系统性识别 LEO 卫星核心网的根本问题**

作者基于真实运行卫星与 5G 网络的信令数据集，首次量化分析了将传统 5G 有状态核心网部署到 LEO 星座中的三大问题：
- 信令风暴：静止用户因卫星高速移动（每约 165.8 秒）频繁触发位置更新，导致每颗卫星每秒处理上万条信令；
- 服务中断：卫星故障率高（约 3%），状态迁移失败即导致会话中断；
- 安全泄露：核心网状态（如密钥、认证向量）存储在暴露于境外的卫星上，易被劫持或窃听。

该分析推翻了“直接将地面核心网上星即可”的假设，为后续设计提供问题驱动基础。

**2. 提出“无状态轨道核心网”新范式与 SpaceCore 架构**

作者提出一个根本性转变：将状态与功能解耦，利用用户设备（UE）。SpaceCore 的核心技术包括：
- 地理空间服务区域（Geospatial Service Areas）：用固定地理网格替代逻辑小区，消除卫星移动引发的虚假位置更新；
- 地理空间寻址与 IP 编码：将用户位置编码进 IP 地址，实现移动性无关的会话锚定；
- 设备即状态仓库（Device-as-the-Repository）：UE 在初始注册后安全存储完整会话状态副本，并在后续连接中主动提供；
- 无状态星间中继（Stateless Geospatial Relaying）：基于地理坐标路由数据，无需固定地面锚点。

这一架构首次实现了真正轻量化、无状态、去中心化的卫星核心网。

**3. 设计安全可控的分布式状态管理机制**

为防止将状态下放 UE 后运营商失控或遭受攻击，作者设计了一套由地面归属网控制的加密状态管理机制：
- 采用基于属性的加密（ABE）：只有满足策略（如“支持 QoS”、“带宽 ≥10 Gbps”）的卫星才能解密 UE 状态；
- 状态由归属网签名：UE 无法伪造或篡改 QoS、计费等策略状态；
- 动态策略更新：归属网可通过标准 5G 流程下发新状态，保留完全控制权；
- 前向安全与抗重放：状态含版本号与 TTL，防止长期泄露与重放攻击。

该机制在提升弹性的同时，保障了运营商级服务的安全性与可控性。

**4. 原型实现与大规模评估验证显著优势**

作者在真实卫星硬件（Raspberry Pi 4、Dell Precision 7920）上实现了 SpaceCore 原型，并基于全球 LEO 星座轨道参数（Starlink、Kuiper 等）与实测信令数据集进行大规模仿真评估，结果表明：
- 信令开销降低 17.5×–122.2×（相比 5G NTN、SkyCore、Baoyun、DPCM）；
- 彻底消除因卫星移动导致的移动性注册（Mobility Registration）；
- TCP/ICMP 连接在卫星切换时不中断（因 IP 地址不变）；
- 对卫星劫持、中间人攻击、链路故障具备高弹性：状态不驻留卫星，泄露风险极低。

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th class="text-center">维度</th>
      <th class="text-center">贡献</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td class="text-center">**问题发现**</td>
      <td class="text-start">首次量化揭示有状态核心网在 LEO 环境中的不可行性</td>
    </tr>
    <tr>
      <td class="text-center">**范式创新**</td>
      <td class="text-start">提出“无状态轨道核心网”新方向，颠覆传统基础设施中心化设计</td>
    </tr>
    <tr>
      <td class="text-center">**技术方案**</td>
      <td class="text-start">SpaceCore 实现地理空间解耦 + UE 本地状态 + ABE 安全控制</td>
    </tr>
    <tr>
      <td class="text-center">**实证验证**</td>
      <td class="text-start">原型 + 大规模仿真 + 真实数据，证明 17.5× 信令削减与高弹性</td>
    </tr>
  </tbody>
</table>

这项工作不仅为 LEO 卫星通信提供了可行的架构路径，也为未来用户为中心、轻量化、弹性化的天地一体化网络奠定了重要基础。

---

## SateRIoT: High-performance Ground-Space Networking for Rural IoT

**SateRIoT：面向农村物联网的高性能天地一体化网络<d-cite key="10.1145/3636534.3690659"></d-cite> (MobiCom 2024)**

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" path="assets/img/blogs/2025-10-20-leo-iot/SateRIoT.png" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>
<div class="caption">
    SateRIoT 链路示例
</div>

### 2-1 摘要

农村物联网系统连接偏远地区的传感器与执行器，在精准农业和环境监测等领域发挥着关键作用。由于这些地区缺乏用于回传的网络基础设施，卫星物联网技术提供了一种具有成本效益的连接解决方案。然而，当前的卫星物联网架构往往难以实现高性能，主要受限于链路在时间和空间上的动态挑战。本文提出了 SateRIoT，一种新型网络架构，通过时间维度的链路估计与空间维度的链路共享，充分挖掘低成本近地轨道（LEO）物联网卫星与地面低功耗广域（LPWA）物联网技术在农村地区的潜力。

首先，作者引入了一种突发性链路模型，用于预测在一次传输窗口内可成功发送的数据包数量，从而减少因上行链路失败而导致的能量浪费。此外，作者通过选择更具信息量的特征并优化窗口长度，进一步增强了该模型的性能。同时，作者设计了一种多跳泛洪协议，使网关能够在网络中缓存并共享数据包，并通过优先级数据队列避免重复传输。

作者基于商用现成（COTS）的物联网卫星设备与 LoRa 无线电实现了 SateRIoT，并通过真实部署与实际采集的数据轨迹对其性能进行了评估。结果表明，SateRIoT 能使单个网关的能量消耗降低至原来的约三分之一（即节能 3.3 倍）；同时，单个数据包的端到端延迟最多可降低 5.6 倍，整体吞吐量提升 1.9 倍。

### 2-2 问题背景

在农村物联网（Rural IoT）中，地面传感器通过低功耗广域网（如 LoRa）汇聚到网关，但这些地区缺乏回传网络基础设施（如 5G/LTE）。虽然近地轨道（LEO）卫星物联网（如 Swarm）提供了一种低成本直连卫星（Direct-to-Satellite, DtS）的回传方案，但其实际性能受限于两大挑战：
- 时间维度：卫星过境时间短、上行链路高度稀疏且突发性丢包严重，导致固定重传策略浪费大量能量；
- 空间维度：各地理分散的网关在同一次卫星过境中有效连接时间差异大，彼此独立传输导致回传资源利用率低下。

现有方案未考虑链路的时空动态性，难以兼顾能效、延迟与吞吐量。

### 2-3 核心思想

提出 SateRIoT —— 一种融合 时间链路估计 与 空间链路共享 的天地一体化网络架构，其核心思想是：

- 智能预测当前窗口能传多少包（$k$），并让有连接能力的网关帮忙转发其他网关的数据”，从而在节省能量的同时提升整体吞吐与降低延迟。

> 💡 $k$ 值由一个轻量级的“突发性链路模型”在接收到卫星 ACK 后动态预测得出，该模型基于物理层（如 RSSI/SNR）、环境（如天气、仰角）和协议特征（如信标间隔），在经验优化的 120 秒窗口内估计当前链路可成功传输的数据包数量。
{: .block-tip }

### 2-4 解决方案

> 📡 信标（beacon） 是由 LEO 卫星主动广播的一种控制消息，用于协调地面终端（如网关）与卫星之间的通信。
{: .block-tip }

> 🛰️文中出现了两类信标：非数据信标（Non-data Beacon）用于下行链路控制、同步或状态通告，不会触发地面设备发送数据；数据信标（Data Beacon）通知地面设备“现在可以上传数据”，是启动上行传输的必要前提。
{: .block-tip }

1. 突发性链路建模（Temporal Link Estimation）
    - 在收到卫星 ACK 后触发轻量级 XGBoost 模型；
    - 输入特征包括物理层（RSSI/SNR/ESP）、环境（天气/仰角/噪声）和协议层（信标间隔、非数据信标数等）；
    - 预测在 120 秒自适应窗口（含 4 个数据信标）内可成功传输的数据包数量 $k$；
    - 仅发送 $k$ 个包，避免盲目重传，显著节能。
2. 多跳泛洪链路共享（Spatial Link Sharing）
    - 利用 LoRa 低功耗广播特性，设计多跳泛洪协议，使所有网关缓存全网数据；
    - 引入 优先级队列：本地数据优先，中继数据随机打乱，减少重复；
    - 通过 泛洪信标（flooding beacon） 同步“哪些包将被发送”或“已成功发送”，配合 2T<sub>tx</sub> 持留机制 避免冗余；
    - 采用 载波侦听退避（CSMA） 提高泛洪可靠性。

### 2-5 实验设备

硬件平台
- 卫星通信模块：商用现成（COTS）的 Swarm M138 调制解调器（VHF 频段，1 kbps，LR-FHSS 调制）；
- 地面物联网模块：Semtech SX1262 LoRa 无线电（US915 频段，SF12，125 kHz 带宽）；
- 主控：ESP32 微控制器；
- 供电：18–24V 太阳能板（模拟农村无电网场景）；
- 部署区域：美国某大学农场，覆盖 9 $\text{km}^2$，共 4 个真实网关。

评估方法
    - 真实部署实验：连续 120 小时采集约 3000 个数据包，分析链路时空特性；
    - 轨迹驱动仿真（Trace-driven Emulation）：扩展至 12 个网关，使用真实卫星过境轨迹（仰角、持续时间、信标时间）生成合成数据集；
    - 性能指标：
        - 能效：每包平均传输尝试次数；
        - 吞吐量：成功送达云端的数据包总数；
        - 延迟：从生成到 ACK 返回的时间；
        - 模型精度：分类准确率（ACC）与平均绝对误差（MAE）。

### 2-6 贡献总结

该工作的主要贡献可概括为以下三点：

1. 实证揭示了 LEO 卫星物联网链路的时空动态特性<br>通过在 9 $\text{km}^2$ 农场的真实部署与长达120小时的测量，作者首次系统性地揭示了低成本直连卫星（如Swarm）在农村场景下的三个关键链路行为：
    - 链路高度稀疏（80%的过境中有效连接时间不足20%）；
    - 上行链路突发性丢包严重（71%的终端经历100%“有信标无上传”情况）；
    - 不同地理位置的网关连接时间高度异步，难以协同利用回传资源。
    这些观察指出了直接采用现有卫星物联网方案难以实现高性能的根本原因。
2. 提出了 SateRIoT 新型网络架构<br>设计了一套融合 时间链路估计 与 空间链路共享 的协同机制：
    - 突发性链路模型：基于 ACK 触发的轻量级 XGBoost 模型，动态预测当前窗口可成功传输的数据包数量（$k$），避免盲目重传；
    - 多跳泛洪共享协议：利用 LoRa 低功耗广播实现全网数据同步，并通过优先级队列与“泛洪信标”机制防止重复上传。
    - 该架构在不依赖额外基础设施或中心协调的前提下，显著提升能效与网络性能。
3. 基于商用现成设备完整实现并全面验证<br>在 4 台集成 Swarm M138 与 LoRa SX1262 的网关上完整实现了 SateRIoT，并结合真实部署与 12 网关规模的轨迹驱动仿真进行评估。结果表明：
    - 单网关能耗降低 3.3 倍；
    - 单包端到端延迟最多减少 5.6 倍；
    - 整体吞吐量提升 1.9 倍。
    - 验证了该方案在真实农村环境中的实用性与可扩展性。

综上，SateRIoT 为低成本、高性能的天地一体化农村物联网提供了首个系统性解决方案。


---

## CosMAC: Constellation-Aware Medium Access and Scheduling for IoT Satellites

**CosMAC：面向物联网卫星的星座感知介质访问与调度机制<d-cite key="10.1145/3636534.3690657"></d-cite> (MobiCom 2024)** 

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" path="assets/img/blogs/2025-10-20-leo-iot/CosMAC.png" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>
<div class="caption">
    CosMAC 系统和数据流
</div>

### 3-1 摘要

皮卫星（picosat）星座有望成为物联网（IoT）设备的默认连接解决方案。这类星座依赖大量小型皮卫星，以低数据速率提供全球即插即用的连接能力，且无需地面网关。然而，随着皮卫星星座规模的扩大，其传统的介质访问设计（原本针对单颗或少量卫星优化）面临新的瓶颈。

作者提出了 CosMAC——一种面向皮卫星网络的新型星座级介质访问与调度系统。CosMAC 包含一种新的重叠感知上行链路介质访问机制（用于物联网设备到皮卫星的通信）以及一种新的网络层调度机制（用于卫星到地面站的下行链路流量调度）。作者通过三颗在轨皮卫星的实际测量数据，以及针对包含 173 颗皮卫星、支持 10 万设备的大规模轨迹驱动仿真，对 CosMAC 进行了实证评估。结果表明，与现有最先进的卫星介质访问方案相比，CosMAC 可将整体网络吞吐量提升最多达 6.5 倍。

### 3-2 问题背景

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" path="assets/img/blogs/2025-10-20-leo-iot/picosat.png" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>
<div class="caption">
    皮卫星
</div>

> 📋 **皮卫星参数**<br>
> 尺寸: 10x5x5 $\text{cm}^3$<br>
> 高度: 约 500 Km<br>
> 平均功率: 1.67 W<br>
> 无线电: SX1262 (LoRa)<br>
> 上行链路: 401.3 MHz<br>
> 下行链路: 401.1 MHz<br>
> 信标: 401.7 MHz<br>
> 带宽: 125 KHz<br>
> 天线: 全向天线
{: .block-tip }

随着皮卫星（pico-satellite）星座规模扩大，传统的介质访问与调度机制面临三大瓶颈，而这些机制原本仅针对单颗或少量卫星设计：
- 上行链路高冲突：IoT 设备使用全向天线随机接入，且常处于多颗卫星覆盖重叠区，一次传输可能在多颗卫星处同时引发冲突，浪费多个接收时隙。
    
    > 💡 在上行传输中，IoT 设备无法判断传输是否成功，在卫星端可以通过 CAD（Channel Activity Detection）间接判断：如果检测到信道有 LoRa 信号（CAD 为正），但无法解码出有效数据包，则推测发生了碰撞（即多个设备同时发送导致失败）；如果长时间无 CAD 信号，则判断为信道空闲。
    {: .block-tip }

- 缺乏有效的流控机制：由于卫星与设备接触时间短（<10 分钟）、通信稀疏（每天仅几十包），传统基于 ACK 的反馈机制失效，无法动态调节设备发送速率。
- 下行调度不适应“一对多”干扰：皮卫星使用全向天线下行，信号可被多个地面站接收，但也会干扰这些地面站接收其他卫星的数据；现有调度算法假设“点对点”链路，无法处理此类“一对多”干扰模式。

    > 💡 在下行传输中，卫星也无法判断传输是否成功，但地面站收到数据后会通过互联网上传至云端，云端可统计哪些数据包缺失，从而间接推断下行失败（但无法实时反馈给卫星）。
    {: .block-tip }

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" path="assets/img/blogs/2025-10-20-leo-iot/dataflow.png" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>
<div class="caption">
    物联网-皮卫星网络数据流
</div>

这些问题在大规模星座（如数百颗卫星、数十万设备）下显著降低网络吞吐量与可靠性。

<div class="row mt-3">
    <div class="col-sm mt-3 mt-md-0">
        {% include figure.liquid loading="eager" path="assets/img/blogs/2025-10-20-leo-iot/challenges.png" class="img-fluid rounded z-depth-1" zoomable=true %}
    </div>
</div>
<div class="caption">
    物联网-皮卫星网络挑战
</div>

### 3-3 核心思想

CosMAC 提出星座级协同设计（constellation-scale collaborative approach）：
- 将整个卫星星座视为一个统一系统，在不改动硬件的前提下，通过软件/固件层面的协同机制，优化上行随机接入与下行调度。 

关键洞察包括：
- 上行：不同设备的传输代价不同——位于多星重叠区的设备是“高干扰源”，应动态抑制其发送概率；

    > 📉 每个 IoT 设备在每次需要传输数据时，都会实时计算其传输概率。当一颗 IoT 设备同时收到多颗卫星的信标时，会根据信标数量的大小对自身进行“惩罚”，也就是降低自身的传输概率。由于低轨卫星的高动态性，卫星的覆盖“足迹”（footprint）和重叠区域随时间快速移动，所以并不需要担心设备永久饥饿。
    {: .block-tip }

- 动态性是优势：卫星轨道运动使重叠区域随时间移动，避免惩罚导致永久饥饿；
- 下行：利用“一对多”特性实现接收分集（receiver diversity），通过调度多个地理分散的地面站接收同一卫星数据，提升鲁棒性。

    > 💡 调度器确保每颗卫星的数据同时被至少 $K \geqslant 2$ 个地理分散的地面站接收，这些地面站之间距离 > $d_{min}$（如 1 km），使得局部干扰（如天气、遮挡）不会同时影响所有接收点，只要任一地面站成功接收，数据就算送达。
    {: .block-tip }

### 3-4 解决方案

1. 重叠感知上行介质访问（Overlap-aware Uplink MAC）
    - IoT 设备监听多颗卫星的**信标**（beacon），获知每颗卫星估计的覆盖设备数 $ \|N_{\text{Sat}_i} \|$；
    - 设备计算传输概率：$$ p_d = \frac{\alpha}{\sum_{i=1}^{k} |N_{\text{Sat}_i}|} $$
      其中 $k$ 为当前覆盖卫星数，$\alpha$ 为流控参数；
    - 重叠区设备因分母大而自动降低发送概率，减少多点冲突。
2. 基于信标的动态流控（Dynamic Flow Control）
    - 卫星通过 **CAD**（Channel Activity Detection）监测信道是否拥塞（如冲突过多或长期空闲）；
    - 在周期性信标中嵌入“加速”或“减速”指令，动态调整 $\alpha$；
    - 所有设备在下次发送前读取最新 $\alpha$，实现无 ACK 的群体协同流控。
3. 支持接收分集的一对多下行调度（One-to-Many Downlink Scheduling）
    - 将调度问题建模为**最大权独立集**（MWIS）图问题：
        - 顶点 = 卫星-地面站链路（需满足最小速率阈值）；
        - 边 = 冲突关系（包括：同一地面站多链路、同一卫星多近距离地面站、重叠覆盖区卫星间干扰）；
    - 使用**随机近似算法**求解 MWIS，优先选择高 RSSI 链路；
    - 调度时确保每颗卫星至少有 $K \geqslant 2$ 个**地理分散**（>1 km）的地面站接收，以实现抗局部干扰的鲁棒性。

### 3-5 实验设备

1. 真实硬件平台（Real-world Testbed）
    - 卫星：3 颗在轨皮卫星（与商业公司 FOSSA Systems 合作），其中 1 颗专为本研究发射；
    - 参数：10×5×5 $\text{cm}^3$，~500 km 高度，1.67 W 平均功耗，SX1262 LoRa 芯片，全向天线；
    - 地面站：2 个具备双向通信能力的站点（位于西班牙），配备 Yagi 天线与卫星跟踪功能；
    - IoT 节点：多个使用 SX1262 LoRa 无线电、全向天线的设备；
    - 信标频率：401.7 MHz；上行/下行：401.3 / 401.1 MHz；带宽：125 kHz。
2. 大规模仿真平台（CosmicBeats）
    - 开源仿真器：[CosmicBeats](https://github.com/microsoft/CosmicBeats-Simulator)，基于真实测量数据校准；
    - 场景规模：
        - 173 颗卫星（基于 SWARM 星座 TLE 轨道数据）；
        - 100,000 个 IoT 设备（全球均匀分布）；
        - 1,048 个地面站（基于 TinyGS 全球部署位置）；
    - 模型细节：
        - 轨道动力学：CelesTrak TLE；
        - 无线链路：基于实测 RSSI 与 ITU 模型（考虑距离、仰角、天气等）；
        - 功耗模型：基于在轨卫星实测电力数据；
        - MAC/网络层：支持自定义协议。
3. 评估指标
    - 端到端吞吐量（bps）、上行公平性（每设备吞吐量）、下行鲁棒性（每包被多少地面站成功接收）、冲突检测准确率等。

### 3-6 贡献总结

这篇工作的主要贡献可归纳为以下四点：
1. 提出一种星座感知的上行随机接入机制
   设计了一种重叠感知（overlap-aware）的随机接入协议，通过动态调整设备的传输概率，对处于多颗卫星重叠覆盖区的“高干扰设备”施加惩罚。该机制显著减少上行链路冲突，在不牺牲公平性的前提下提升净上行吞吐量。
2. 设计面向“一对多”干扰的下行调度器
   针对皮卫星使用全向天线、与密集地面站形成“一对多”连接的特点，提出一种新的集中式下行调度算法。该算法：
    - 将调度问题建模为最大权独立集（MWIS）；
    - 确保每颗卫星至少由 $K \geqslant 2$ 个地理分散的地面站接收，实现接收分集与鲁棒性；
    - 在优化吞吐量的同时保障可靠性与抗局部干扰能力。
3. 构建真实世界的皮卫星研究平台
   搭建了包含以下组件的端到端实验平台：
    - 3 颗在轨皮卫星（其中 1 颗专为本研究发射）；
    - 2 个具备双向通信能力的地面站（位于西班牙）；
    - 多个 IoT 节点（使用 SX1262 LoRa 无线电）。
    - 该平台验证了 CosMAC 在真实轨道环境下的可行性与有效性。
4. 开源首个面向 IoT 皮卫星网络的数据驱动仿真器 CosmicBeats
    - 基于真实测量数据（轨道、链路质量、功耗等）构建；
    - 支持大规模轨迹驱动仿真（如 173 颗卫星、10 万设备、1048 个地面站）；
    - 采用模块化设计，支持自定义硬件、协议与网络拓扑；
    - 已开源发布，为学术界提供可复现、可扩展的卫星 IoT 研究基础设施。

综上，CosMAC 不仅提出了首个星座级协同的 MAC 与调度系统，还通过真实部署 + 开源仿真双重手段，为物联网皮卫星网络的可扩展性、吞吐量与鲁棒性提供了系统性解决方案。


---

## B2LoRa: Boosting LoRa Transmission for Satellite-IoT Systems with Blind Coherent Combining

**$B^2 \text{LoRa}$：基于盲相干合并的卫星物联网 LoRa 传输增强方法<d-cite key="zhao2025b2loraboostingloratransmission"></d-cite> (MobiCom 2025)** 

### 4-1 摘要

随着近地轨道（LEO）卫星网络的快速发展，采用 LoRa 技术的卫星物联网系统正被广泛部署，以向低功耗、低成本的地面设备提供广域互联网服务。然而，从物联网卫星到地面设备的长距离传输及恶劣信道环境对链路可靠性构成了巨大挑战，这一点已通过作者搭建的真实系统测量结果得到验证。为应对该问题，作者提出了一种名为 $B^2 \text{LoRa}$ 的盲相干合并设计方案，用于提升 LoRa 传输性能。$B^2 \text{LoRa}$ 的核心思想是利用卫星物联网系统中固有的重复广播机制，在低功耗、低成本约束下实现相干合并——将不同时刻的重传视为来自天线阵列中不同天线单元发送的相同数据包。随后，问题转化为在频繁丢包情况下，对存在时间、频率和相位偏移的数据包进行细粒度对齐。为克服这一挑战，作者提出了三项关键技术：联合包嗅探、频偏对齐和相位漂移抑制，分别用于应对卫星物联网系统中典型的超低信噪比和多普勒频移。最终，基于真实部署环境的实验结果验证了 $B^2 \text{LoRa}$ 的高效性。

### 4-2 问题背景

卫星物联网（Satellite-IoT）中，LoRa 下行链路因超长距离（500–2500 km）、超低信噪比（SNR）和显著多普勒频移，导致高达 90% 的丢包率，现有方案无法有效提升接收可靠性。

### 4-3 核心思想

利用卫星物联网中固有的重复广播机制，将多次重传视为“虚拟天线阵列”的不同发射，通过盲相干合并（无需信道状态或轨道先验信息）提升接收 SNR。

### 4-4 解决方案

提出三项关键技术：
1. 联合包嗅探：基于合成孔径雷达（SAR）思路，联合检测淹没在噪声中的弱包；
2. 频偏对齐：通过旋转共轭相乘估计并补偿包间/包内多普勒频移与载波频偏；
3. 相位漂移抑制：采用初始相位搜索算法，克服 LoRa 硬件 PLL 的随机相位启动缺陷。

### 4-5 实验设备

- 真实测试平台：搭载 Semtech SX1276 的在轨 530 km 高度纳卫星 + 地面 USRP X310 软件定义无线电（SDR）接收；
- SDR 仿真平台：基于轨道模型（SGP4）人工注入多普勒、路径损耗和相位漂移；
- 评估指标：符号错误率（SER）、包接收率（PRR）、检测/解码 RGR 阈值；
- 对比基线：标准 LoRa、XCopy（地面相干合并）、Spectrumize（地面站多普勒补偿）。

### 4-6 贡献总结

提出首个适用于卫星物联网终端的盲相干合并方案 $B^2 \text{LoRa}$，仅依赖重复广播，在无轨道先验条件下显著提升 LoRa 下行链路性能：检测增益 +9 dB，包接收率提升 190%。

