---
layout: post
title: 包含代码的博客文章
date: 2015-07-15 15:09:00
description: 包含代码的博客文章示例
tags: [格式化, 代码]
categories: [示例文章]
featured: true # 将文章标记为特色文章
---

这个主题实现了Jekyll的内置功能，使用Rouge进行语法高亮。
它支持100多种编程语言。
这个示例使用C++语言。
你只需要将代码用Markdown代码标签包装：

````markdown
```c++
code code code
```
````

```c++
int main(int argc, char const \*argv[])
{
    string myString;

    cout << "input a string: ";
    getline(cin, myString);
    int length = myString.length();

    char charArray = new char * [length];

    charArray = myString;
    for(int i = 0; i < length; ++i){
        cout << charArray[i] << " ";
    }

    return 0;
}
```

在列表项中显示代码时，需要注意缩进问题，详见[此 FAQ](https://github.com/planetjekyll/quickrefs/blob/master/FAQ.md#q-how-can-i-get-backtick-fenced-code-blocks-eg--working-inside-lists-with-kramdown)。
你必须将代码块缩进 (3 × 列表层级) 个空格。这是因为 Jekyll 所使用的 Markdown 引擎 kramdown 在列表中判断代码块缩进时，依据的是列表项标记之后第一个非空格字符所在的列位置。例如：

````markdown
1. 我们也可以在嵌套的列表项中插入围栏式代码块。

   1. 比如这样：

      ```c
      printf("Hello, World!");
      ```

   2. 关键在于：代码围栏的起始行必须与列表项正文的首字符对齐。
````

效果如下：

1. 我们也可以在嵌套的列表项中插入围栏式代码块。

   1. 比如这样：

      ```c
      printf("Hello, World!");
      ```

   2. 关键在于：代码围栏的起始行必须与列表项正文的首字符对齐。

默认情况下，代码块不会显示行号。如果你想为所有代码块启用行号，可以在 `_config.yml` 文件中设置 `kramdown.syntax_highlighter_opts.block.line_numbers` ：
```yml
kramdown:
  syntax_highlighter_opts:
    block:
      line_numbers: true
```

如果你只想为某个特定的代码块显示行号，只需使用 Liquid 标签包裹代码，并加上 `linenos` 参数：

{% raw %}
{% highlight c++ linenos %} <br/> 你的代码 <br/> {% endhighlight %}
{% endraw %}

其中 `linenos` 关键字会触发行号的显示。效果如下所示：

{% highlight c++ linenos %}

int main(int argc, char const \*argv[])
{
string myString;

    cout << "input a string: ";
    getline(cin, myString);
    int length = myString.length();

    char charArray = new char * [length];

    charArray = myString;
    for(int i = 0; i < length; ++i){
        cout << charArray[i] << " ";
    }

    return 0;

}

{% endhighlight %}
